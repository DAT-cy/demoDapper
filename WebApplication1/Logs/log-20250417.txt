[2025-04-17 07:44:53.490 INF] Now listening on: https://localhost:7101
[2025-04-17 07:44:53.525 INF] Now listening on: http://localhost:5230
[2025-04-17 07:44:53.529 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 07:44:53.532 INF] Hosting environment: Development
[2025-04-17 07:44:53.533 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 07:44:53.811 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 07:44:53.985 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 173.73ms
[2025-04-17 07:44:54.304 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 07:44:54.488 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.2721ms
[2025-04-17 07:45:00.427 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 07:45:00.438 INF] Executing endpoint 'WebApplication1.Controller.StaffController.GetALLDepartment (WebApplication1)'
[2025-04-17 07:45:00.459 INF] Route matched with {action = "GetALLDepartment", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Dto.StaffDto]]] GetALLDepartment() on controller WebApplication1.Controller.StaffController (WebApplication1).
[2025-04-17 07:45:00.969 INF] Executing action method WebApplication1.Controller.StaffController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 07:45:01.686 INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_staff`, `t`.`address`, `t`.`age`, `t`.`date_of_join`, `t`.`department_id`, `t`.`email`, `t`.`full_name`, `t`.`is_deleted`, `t`.`phone_number`, `t`.`position`, `t`.`salary`
FROM `tbl_staff` AS `t`
WHERE NOT (`t`.`is_deleted`)
[2025-04-17 07:45:01.723 INF] Executed action method WebApplication1.Controller.StaffController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 749.824ms.
[2025-04-17 07:45:01.730 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Dto.StaffDto, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-04-17 07:45:01.779 INF] Executed action WebApplication1.Controller.StaffController.GetALLDepartment (WebApplication1) in 1315.3219ms
[2025-04-17 07:45:01.780 INF] Executed endpoint 'WebApplication1.Controller.StaffController.GetALLDepartment (WebApplication1)'
[2025-04-17 07:45:01.789 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 200 null application/json; charset=utf-8 1361.6189ms
[2025-04-17 07:45:05.993 INF] Request starting HTTP/2 GET https://localhost:7101/api/Department - null null
[2025-04-17 07:45:06.004 INF] Executing endpoint 'WebApplication1.Controller.DepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 07:45:06.012 INF] Route matched with {action = "GetALLDepartment", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Dto.DepartmentDto]]] GetALLDepartment() on controller WebApplication1.Controller.DepartmentController (WebApplication1).
[2025-04-17 07:45:06.035 INF] Executing action method WebApplication1.Controller.DepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 07:45:06.082 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_department`, `t`.`code`, `t`.`created_at`, `t`.`description`, `t`.`is_deleted`, `t`.`name_department`, `t`.`status`
FROM `tbl_department` AS `t`
WHERE NOT (`t`.`is_deleted`)
[2025-04-17 07:45:06.138 INF] Executed action method WebApplication1.Controller.DepartmentController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101.1545ms.
[2025-04-17 07:45:06.139 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Dto.DepartmentDto, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-04-17 07:45:06.145 INF] Executed action WebApplication1.Controller.DepartmentController.GetALLDepartment (WebApplication1) in 130.4787ms
[2025-04-17 07:45:06.146 INF] Executed endpoint 'WebApplication1.Controller.DepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 07:45:06.147 INF] Request finished HTTP/2 GET https://localhost:7101/api/Department - 200 null application/json; charset=utf-8 153.7418ms
[2025-04-17 07:48:47.739 INF] Application is shutting down...
[2025-04-17 07:59:49.617 INF] Now listening on: https://localhost:7101
[2025-04-17 07:59:49.647 INF] Now listening on: http://localhost:5230
[2025-04-17 07:59:49.650 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 07:59:49.652 INF] Hosting environment: Development
[2025-04-17 07:59:49.653 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 07:59:50.057 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 07:59:50.270 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 212.2697ms
[2025-04-17 07:59:51.403 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 07:59:51.515 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.5797ms
[2025-04-17 07:59:54.509 INF] Request starting HTTP/2 GET https://localhost:7101/XML/sql - null null
[2025-04-17 07:59:54.514 INF] Executing endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 07:59:54.533 INF] Route matched with {action = "GetAllFromSql", controller = "XML"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebApplication1.Entity.StaffEntity]]] GetAllFromSql() on controller WebApplication1.Controller.XMLController (WebApplication1).
[2025-04-17 07:59:54.541 INF] Executed action WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) in 3.573ms
[2025-04-17 07:59:54.544 INF] Executed endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 07:59:54.548 ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ClassLibrary1.DAL.Repository.IStaffRepository' while attempting to activate 'WebApplication1.Controller.XMLController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 07:59:54.572 INF] Request finished HTTP/2 GET https://localhost:7101/XML/sql - 500 null text/plain; charset=utf-8 63.2378ms
[2025-04-17 08:00:54.612 INF] Application is shutting down...
[2025-04-17 08:15:51.674 INF] Now listening on: https://localhost:7101
[2025-04-17 08:15:51.704 INF] Now listening on: http://localhost:5230
[2025-04-17 08:15:51.707 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:15:51.708 INF] Hosting environment: Development
[2025-04-17 08:15:51.708 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:15:52.183 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:15:52.397 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 214.1573ms
[2025-04-17 08:15:52.712 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:15:52.928 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 216.6946ms
[2025-04-17 08:15:56.209 INF] Request starting HTTP/2 GET https://localhost:7101/XML/sql - null null
[2025-04-17 08:15:56.217 INF] Executing endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:15:56.236 INF] Route matched with {action = "GetAllFromSql", controller = "XML"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebApplication1.Entity.StaffEntity]]] GetAllFromSql() on controller WebApplication1.Controller.XMLController (WebApplication1).
[2025-04-17 08:15:56.246 INF] Executing action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:15:56.254 ERR] ỗi khi thực hiện query XML file not found at: D:\NET\WebApplication1\WebApplication1\bin\Debug\net8.0\XML\Staff.xml
System.IO.FileNotFoundException: XML file not found at: D:\NET\WebApplication1\WebApplication1\bin\Debug\net8.0\XML\Staff.xml
   at ClassLibrary1.DAL.DbConnection.SqlQueryLoader.GetQueryFromXml(String queryName) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\SqlQueryLoader.cs:line 15
   at WorkerService1.DAL.Repository.StaffRepository.GetAllStaffAsync() in D:\NET\WebApplication1\ClassLibrary1.DAL\Repository\StaffRepository.cs:line 59
[2025-04-17 08:15:56.275 INF] Executed action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.0814ms.
[2025-04-17 08:15:56.282 INF] Executing ObjectResult, writing value of type 'System.String'.
[2025-04-17 08:15:56.286 INF] Executed action WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) in 44.6482ms
[2025-04-17 08:15:56.288 INF] Executed endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:15:56.289 INF] Request finished HTTP/2 GET https://localhost:7101/XML/sql - 500 null text/plain; charset=utf-8 79.395ms
[2025-04-17 08:17:02.671 INF] Application is shutting down...
[2025-04-17 08:17:06.468 INF] Now listening on: https://localhost:7101
[2025-04-17 08:17:06.504 INF] Now listening on: http://localhost:5230
[2025-04-17 08:17:06.507 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:17:06.508 INF] Hosting environment: Development
[2025-04-17 08:17:06.508 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:17:07.012 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:17:07.167 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 155.4238ms
[2025-04-17 08:17:07.533 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:17:07.722 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.5629ms
[2025-04-17 08:17:10.221 INF] Request starting HTTP/2 GET https://localhost:7101/XML/sql - null null
[2025-04-17 08:17:10.230 INF] Executing endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:17:10.257 INF] Route matched with {action = "GetAllFromSql", controller = "XML"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebApplication1.Entity.StaffEntity]]] GetAllFromSql() on controller WebApplication1.Controller.XMLController (WebApplication1).
[2025-04-17 08:17:10.267 INF] Executing action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:17:10.294 INF] thưc hiện query SELECT
            id_staff AS Id,
            full_name AS FullName,
            position AS Position,
            phone_number AS Phone,
            address AS Address,
            age AS Age,
            salary AS Salary,
            email AS Email,
            date_of_join AS DateOfJoin
            FROM tbl_staff
            WHERE is_deleted = false
[2025-04-17 08:17:10.933 INF] có từng này kết quar 
[2025-04-17 08:17:10.937 INF] Executed action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 666.6428ms.
[2025-04-17 08:17:10.946 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.Staff, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-04-17 08:17:10.992 INF] Executed action WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) in 730.7743ms
[2025-04-17 08:17:10.994 INF] Executed endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:17:10.996 INF] Request finished HTTP/2 GET https://localhost:7101/XML/sql - 200 null application/json; charset=utf-8 775.311ms
[2025-04-17 08:17:41.762 INF] Request starting HTTP/2 POST https://localhost:7101/api/Staff - application/json 142
[2025-04-17 08:17:41.766 INF] Executing endpoint 'WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:17:41.781 INF] Route matched with {action = "CreateDepartment", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Dto.StaffDto]] CreateDepartment(WebApplication1.Model.StaffModel) on controller WebApplication1.Controller.StaffController (WebApplication1).
[2025-04-17 08:17:41.999 INF] Executing action method WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:17:42.734 INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `tbl_staff` (`address`, `age`, `date_of_join`, `department_id`, `email`, `full_name`, `is_deleted`, `phone_number`, `position`, `salary`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `id_staff`
FROM `tbl_staff`
WHERE ROW_COUNT() = 1 AND `id_staff` = LAST_INSERT_ID();
[2025-04-17 08:17:42.793 INF] Executed action method WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 793.4911ms.
[2025-04-17 08:17:42.795 INF] Executing OkObjectResult, writing value of type 'WebApplication1.Dto.StaffDto'.
[2025-04-17 08:17:42.806 INF] Executed action WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1) in 1023.572ms
[2025-04-17 08:17:42.807 INF] Executed endpoint 'WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:17:42.815 INF] Request finished HTTP/2 POST https://localhost:7101/api/Staff - 200 null application/json; charset=utf-8 1053.1293ms
[2025-04-17 08:17:44.931 INF] Request starting HTTP/2 GET https://localhost:7101/XML/sql - null null
[2025-04-17 08:17:44.934 INF] Executing endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:17:44.939 INF] Route matched with {action = "GetAllFromSql", controller = "XML"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebApplication1.Entity.StaffEntity]]] GetAllFromSql() on controller WebApplication1.Controller.XMLController (WebApplication1).
[2025-04-17 08:17:44.943 INF] Executing action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:17:44.946 INF] thưc hiện query SELECT
            id_staff AS Id,
            full_name AS FullName,
            position AS Position,
            phone_number AS Phone,
            address AS Address,
            age AS Age,
            salary AS Salary,
            email AS Email,
            date_of_join AS DateOfJoin
            FROM tbl_staff
            WHERE is_deleted = false
[2025-04-17 08:17:44.967 INF] có từng này kết quar 
[2025-04-17 08:17:44.968 INF] Executed action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.5189ms.
[2025-04-17 08:17:44.969 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.Staff, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-04-17 08:17:44.975 INF] Executed action WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) in 34.2373ms
[2025-04-17 08:17:44.976 INF] Executed endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:17:44.977 INF] Request finished HTTP/2 GET https://localhost:7101/XML/sql - 200 null application/json; charset=utf-8 45.9861ms
[2025-04-17 08:20:49.572 INF] Application is shutting down...
[2025-04-17 08:24:20.525 INF] Now listening on: https://localhost:7101
[2025-04-17 08:24:20.553 INF] Now listening on: http://localhost:5230
[2025-04-17 08:24:20.556 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:24:20.556 INF] Hosting environment: Development
[2025-04-17 08:24:20.557 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:24:21.109 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:24:21.268 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 159.8314ms
[2025-04-17 08:24:21.660 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:24:21.818 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 158.1079ms
[2025-04-17 08:24:29.426 INF] Request starting HTTP/2 GET https://localhost:7101/XML/sql - null null
[2025-04-17 08:24:29.433 INF] Executing endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:24:29.457 INF] Route matched with {action = "GetAllFromSql", controller = "XML"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebApplication1.Entity.StaffEntity]]] GetAllFromSql() on controller WebApplication1.Controller.XMLController (WebApplication1).
[2025-04-17 08:24:29.467 INF] Executing action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:24:29.480 INF] thưc hiện query SELECT
            id_staff AS Id,
            full_name AS FullName,
            position AS Position,
            phone_number AS Phone,
            address AS Address,
            age AS Age,
            salary AS Salary,
            email AS Email,
            date_of_join AS DateOfJoin
            FROM tbl_staff
            WHERE is_deleted = false
[2025-04-17 08:24:29.742 INF] có từng này kết quar 
[2025-04-17 08:24:29.746 INF] Executed action method WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 274.683ms.
[2025-04-17 08:24:29.757 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.Staff, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-04-17 08:24:29.816 INF] Executed action WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1) in 354.3155ms
[2025-04-17 08:24:29.817 INF] Executed endpoint 'WebApplication1.Controller.XMLController.GetAllFromSql (WebApplication1)'
[2025-04-17 08:24:29.819 INF] Request finished HTTP/2 GET https://localhost:7101/XML/sql - 200 null application/json; charset=utf-8 392.5849ms
[2025-04-17 08:24:35.420 INF] Application is shutting down...
[2025-04-17 08:39:13.071 INF] Now listening on: https://localhost:7101
[2025-04-17 08:39:13.100 INF] Now listening on: http://localhost:5230
[2025-04-17 08:39:13.103 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:39:13.104 INF] Hosting environment: Development
[2025-04-17 08:39:13.105 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:39:13.298 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:39:13.496 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 198.219ms
[2025-04-17 08:39:13.947 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:39:14.261 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 313.3064ms
[2025-04-17 08:39:23.428 INF] Application is shutting down...
[2025-04-17 08:40:29.362 INF] Now listening on: https://localhost:7101
[2025-04-17 08:40:29.391 INF] Now listening on: http://localhost:5230
[2025-04-17 08:40:29.394 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:40:29.394 INF] Hosting environment: Development
[2025-04-17 08:40:29.395 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:40:29.821 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:40:30.018 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 198.5178ms
[2025-04-17 08:40:30.390 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:40:30.617 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 226.8823ms
[2025-04-17 08:40:40.434 INF] Request starting HTTP/2 POST https://localhost:7101/DALStaff - application/json 132
[2025-04-17 08:40:40.444 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:40:40.480 INF] Route matched with {action = "CreateDepartment", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateDepartment(ClassLibrary1.DAL.DTOS.StaffInsertDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 08:40:40.567 INF] Executing action method WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:40:40.597 INF] Thực hiện insert với query: INSERT INTO tbl_staff (full_name, position, phone_number, address, age, salary, email)
            VALUES (@FullName, @Position, @Phone, @Address, @Age, @Salary, @Email)
[2025-04-17 08:40:40.909 ERR] Lỗi khi insert nhân viên: Field 'date_of_join' doesn't have a default value
MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'date_of_join' doesn't have a default value
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnectionAsync[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 22
   at WorkerService1.DAL.DALService.StaffService.InsertStaffAsync(StaffInsertDto staff) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 82
[2025-04-17 08:40:40.945 INF] Executed action WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) in 459.5751ms
[2025-04-17 08:40:40.946 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:40:40.950 ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'date_of_join' doesn't have a default value
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnectionAsync[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 22
   at WorkerService1.DAL.DALService.StaffService.InsertStaffAsync(StaffInsertDto staff) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 82
   at WebApplication1.Controller.DALStaffController.CreateDepartment(StaffInsertDto staff) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 50
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 08:40:40.976 INF] Request finished HTTP/2 POST https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 541.6523ms
[2025-04-17 08:42:08.531 INF] Application is shutting down...
[2025-04-17 08:42:11.972 INF] Now listening on: https://localhost:7101
[2025-04-17 08:42:12.007 INF] Now listening on: http://localhost:5230
[2025-04-17 08:42:12.009 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:42:12.011 INF] Hosting environment: Development
[2025-04-17 08:42:12.011 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:42:12.602 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:42:12.734 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 133.0215ms
[2025-04-17 08:42:13.402 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:42:13.510 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.0239ms
[2025-04-17 08:42:16.902 INF] Request starting HTTP/2 POST https://localhost:7101/DALStaff - application/json 142
[2025-04-17 08:42:16.911 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:42:16.932 INF] Route matched with {action = "CreateDepartment", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateDepartment(ClassLibrary1.DAL.DTOS.StaffInsertDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 08:42:17.003 INF] Executing action method WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:42:17.027 INF] Thực hiện insert với query: INSERT INTO tbl_staff (
            full_name, position, phone_number, address, age, salary, email, date_of_join
            )
            VALUES (
            @FullName, @Position, @Phone, @Address, @Age, @Salary, @Email, GETDATE()
            )
[2025-04-17 08:42:17.309 ERR] Lỗi khi insert nhân viên: FUNCTION demo_ef.GETDATE does not exist
MySql.Data.MySqlClient.MySqlException (0x80004005): FUNCTION demo_ef.GETDATE does not exist
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnectionAsync[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 22
   at WorkerService1.DAL.DALService.StaffService.InsertStaffAsync(StaffInsertDto staff) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 82
[2025-04-17 08:42:17.328 INF] Executed action WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) in 392.1145ms
[2025-04-17 08:42:17.330 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:42:17.334 ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): FUNCTION demo_ef.GETDATE does not exist
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnectionAsync[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 22
   at WorkerService1.DAL.DALService.StaffService.InsertStaffAsync(StaffInsertDto staff) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 82
   at WebApplication1.Controller.DALStaffController.CreateDepartment(StaffInsertDto staff) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 50
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 08:42:17.350 INF] Request finished HTTP/2 POST https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 448.6011ms
[2025-04-17 08:43:11.460 INF] Application is shutting down...
[2025-04-17 08:43:15.984 INF] Now listening on: https://localhost:7101
[2025-04-17 08:43:16.032 INF] Now listening on: http://localhost:5230
[2025-04-17 08:43:16.035 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:43:16.037 INF] Hosting environment: Development
[2025-04-17 08:43:16.038 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:43:16.553 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:43:16.718 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 165.8362ms
[2025-04-17 08:43:17.860 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:43:17.986 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.4156ms
[2025-04-17 08:43:31.595 INF] Application is shutting down...
[2025-04-17 08:43:35.378 INF] Now listening on: https://localhost:7101
[2025-04-17 08:43:35.418 INF] Now listening on: http://localhost:5230
[2025-04-17 08:43:35.423 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:43:35.424 INF] Hosting environment: Development
[2025-04-17 08:43:35.424 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:43:35.671 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:43:35.860 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 188.9688ms
[2025-04-17 08:43:36.686 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:43:36.783 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.842ms
[2025-04-17 08:43:40.139 INF] Request starting HTTP/2 POST https://localhost:7101/DALStaff - application/json 186
[2025-04-17 08:43:40.146 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:43:40.171 INF] Route matched with {action = "CreateDepartment", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateDepartment(ClassLibrary1.DAL.DTOS.StaffInsertDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 08:43:40.250 INF] Executing action method WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:43:40.272 INF] Thực hiện insert với query: INSERT INTO tbl_staff (
            full_name, position, phone_number, address, age, salary, email, date_of_join
            )
            VALUES (
            @FullName, @Position, @Phone, @Address, @Age, @Salary, @Email, @DateOfJoin
            )
[2025-04-17 08:43:40.534 ERR] Lỗi khi insert nhân viên: Field 'is_deleted' doesn't have a default value
MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'is_deleted' doesn't have a default value
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnectionAsync[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 22
   at WorkerService1.DAL.DALService.StaffService.InsertStaffAsync(StaffInsertDto staff) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 82
[2025-04-17 08:43:40.566 INF] Executed action WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) in 390.3653ms
[2025-04-17 08:43:40.568 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:43:40.573 ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'is_deleted' doesn't have a default value
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnectionAsync[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 22
   at WorkerService1.DAL.DALService.StaffService.InsertStaffAsync(StaffInsertDto staff) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 82
   at WebApplication1.Controller.DALStaffController.CreateDepartment(StaffInsertDto staff) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 50
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 08:43:40.611 INF] Request finished HTTP/2 POST https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 472.5543ms
[2025-04-17 08:45:18.789 INF] Application is shutting down...
[2025-04-17 08:45:22.824 INF] Now listening on: https://localhost:7101
[2025-04-17 08:45:22.866 INF] Now listening on: http://localhost:5230
[2025-04-17 08:45:22.873 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 08:45:22.876 INF] Hosting environment: Development
[2025-04-17 08:45:22.876 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 08:45:22.964 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 08:45:23.117 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 153.7104ms
[2025-04-17 08:45:23.861 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 08:45:23.965 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.0943ms
[2025-04-17 08:45:27.367 INF] Request starting HTTP/2 POST https://localhost:7101/DALStaff - application/json 186
[2025-04-17 08:45:27.375 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:45:27.398 INF] Route matched with {action = "CreateDepartment", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateDepartment(ClassLibrary1.DAL.DTOS.StaffInsertDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 08:45:27.472 INF] Executing action method WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 08:45:27.494 INF] Thực hiện insert với query: INSERT INTO tbl_staff (
                full_name, position, phone_number, address, age, salary, email, date_of_join, is_deleted
                )
                VALUES (
                @FullName, @Position, @Phone, @Address, @Age, @Salary, @Email, @DateOfJoin, false
                )
[2025-04-17 08:45:27.776 INF] Insert nhân viên thành công: string
[2025-04-17 08:45:27.783 INF] Executed action method WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 305.0685ms.
[2025-04-17 08:45:27.794 INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
[2025-04-17 08:45:27.807 INF] Executed action WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1) in 404.089ms
[2025-04-17 08:45:27.809 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.CreateDepartment (WebApplication1)'
[2025-04-17 08:45:27.811 INF] Request finished HTTP/2 POST https://localhost:7101/DALStaff - 200 null application/json; charset=utf-8 443.9161ms
[2025-04-17 08:50:37.557 INF] Application is shutting down...
[2025-04-17 09:09:03.195 INF] Now listening on: https://localhost:7101
[2025-04-17 09:09:03.225 INF] Now listening on: http://localhost:5230
[2025-04-17 09:09:03.227 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:09:03.228 INF] Hosting environment: Development
[2025-04-17 09:09:03.229 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:09:03.700 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:09:03.879 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 178.9011ms
[2025-04-17 09:09:04.281 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:09:04.473 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.1175ms
[2025-04-17 09:09:22.733 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff/3 - application/json 190
[2025-04-17 09:09:22.744 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:09:22.769 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdateStaff(Int64, ClassLibrary1.DAL.DTOS.StaffInsertDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:09:22.846 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:09:22.868 INF] Thực hiện update với query: UPDATE tbl_staff
            SET full_name = @FullName,
            position = @Position,
            phone_number = @Phone,
            address = @Address,
            age = @Age,
            salary = @Salary,
            email = @Email,
            date_of_join = @DateOfJoin
            WHERE id_staff = @Id AND is_deleted = 0
[2025-04-17 09:09:23.149 INF] Update nhân viên thành công: Tuấn ANh
[2025-04-17 09:09:23.154 INF] Executed action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 303.318ms.
[2025-04-17 09:09:23.166 INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
[2025-04-17 09:09:23.179 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 403.1159ms
[2025-04-17 09:09:23.180 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:09:23.182 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff/3 - 200 null application/json; charset=utf-8 448.0932ms
[2025-04-17 09:10:58.749 INF] Application is shutting down...
[2025-04-17 09:36:58.954 INF] Now listening on: https://localhost:7101
[2025-04-17 09:36:58.990 INF] Now listening on: http://localhost:5230
[2025-04-17 09:36:58.994 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:36:58.996 INF] Hosting environment: Development
[2025-04-17 09:36:58.996 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:36:59.322 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:36:59.494 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 172.6869ms
[2025-04-17 09:37:00.017 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:37:00.242 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.9565ms
[2025-04-17 09:37:37.150 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 39
[2025-04-17 09:37:37.159 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:37:37.180 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[ClassLibrary1.DAL.DTOS.Staff] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:37:37.242 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:37:37.269 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:37:37.602 INF] Tìm thấy nhân viên với ID: 3
[2025-04-17 09:37:37.604 INF] Thực hiện query: INSERT INTO tbl_staff (
                department_id
                )
                VALUES (
                @DepartmentId
                )
                where id_staff = @Id
[2025-04-17 09:37:37.628 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 444.147ms
[2025-04-17 09:37:37.630 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:37:37.633 ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where id_staff = 3' at line 7
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at WorkerService1.DAL.DALService.StaffService.<>c__DisplayClass9_0.<ChosenStaff>b__0(IDbConnection conn) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 184
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnection[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 29
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 183
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:37:37.667 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 516.4804ms
[2025-04-17 09:37:52.655 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 39
[2025-04-17 09:37:52.658 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:37:52.660 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[ClassLibrary1.DAL.DTOS.Staff] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:37:52.670 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:37:52.675 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:37:52.682 INF] Tìm thấy nhân viên với ID: 4
[2025-04-17 09:37:52.684 INF] Thực hiện query: INSERT INTO tbl_staff (
                department_id
                )
                VALUES (
                @DepartmentId
                )
                where id_staff = @Id
[2025-04-17 09:37:52.687 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 23.2004ms
[2025-04-17 09:37:52.688 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:37:52.688 ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where id_staff = 4' at line 7
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at WorkerService1.DAL.DALService.StaffService.<>c__DisplayClass9_0.<ChosenStaff>b__0(IDbConnection conn) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 184
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnection[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 29
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 183
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:37:52.698 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 42.7086ms
[2025-04-17 09:38:54.613 INF] Application is shutting down...
[2025-04-17 09:40:13.242 INF] Now listening on: https://localhost:7101
[2025-04-17 09:40:13.274 INF] Now listening on: http://localhost:5230
[2025-04-17 09:40:13.278 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:40:13.279 INF] Hosting environment: Development
[2025-04-17 09:40:13.280 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:40:13.478 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:40:13.648 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 171.7814ms
[2025-04-17 09:40:14.116 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:40:14.294 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.6142ms
[2025-04-17 09:44:49.593 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 39
[2025-04-17 09:44:49.600 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:44:49.620 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:44:49.685 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:44:49.694 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:44:49.966 INF] Tìm thấy nhân viên với ID: 3
[2025-04-17 09:44:49.967 INF] Thực hiện query: INSERT INTO tbl_staff (
                department_id
                )
                VALUES (
                @DepartmentId
                )
                where id_staff = @Id
[2025-04-17 09:44:49.988 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 364.9236ms
[2025-04-17 09:44:49.990 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:44:49.993 ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where id_staff = 3' at line 7
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at WorkerService1.DAL.DALService.StaffService.<>c__DisplayClass9_0.<ChosenStaff>b__0(IDbConnection conn) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 184
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnection[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 29
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 183
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:44:50.025 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 431.9674ms
[2025-04-17 09:45:36.832 INF] Application is shutting down...
[2025-04-17 09:45:40.971 INF] Now listening on: https://localhost:7101
[2025-04-17 09:45:40.999 INF] Now listening on: http://localhost:5230
[2025-04-17 09:45:41.002 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:45:41.003 INF] Hosting environment: Development
[2025-04-17 09:45:41.003 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:45:41.186 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:45:41.329 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 142.8045ms
[2025-04-17 09:45:42.014 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:45:42.128 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.096ms
[2025-04-17 09:45:49.946 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 39
[2025-04-17 09:45:49.954 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:45:49.974 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:45:50.035 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:45:50.054 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:45:50.307 INF] Tìm thấy nhân viên với ID: 3
[2025-04-17 09:45:50.309 INF] Thực hiện query: UPDATE tbl_staff
                SET department_id = @DepartmentId
                WHERE id_staff = @Id
[2025-04-17 09:45:50.354 INF] Executed action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 314.3842ms.
[2025-04-17 09:45:50.362 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 09:45:50.376 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 397.1653ms
[2025-04-17 09:45:50.377 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:45:50.378 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 200 null application/json; charset=utf-8 432.044ms
[2025-04-17 09:46:28.923 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 40
[2025-04-17 09:46:28.927 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:46:28.928 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:46:28.935 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:46:28.936 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:46:28.943 WRN] Không tìm thấy nhân viên với ID: 10
[2025-04-17 09:46:28.945 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 15.2809ms
[2025-04-17 09:46:28.946 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:46:28.949 ERR] An unhandled exception has occurred while executing the request.
ResponseException: API_NOT_FOUND
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 178
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:46:28.970 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 46.391ms
[2025-04-17 09:47:19.208 INF] Application is shutting down...
[2025-04-17 09:47:54.543 INF] Now listening on: https://localhost:7101
[2025-04-17 09:47:54.574 INF] Now listening on: http://localhost:5230
[2025-04-17 09:47:54.577 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:47:54.578 INF] Hosting environment: Development
[2025-04-17 09:47:54.579 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:47:54.998 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:47:55.299 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 301.3371ms
[2025-04-17 09:47:56.634 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:47:56.868 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.0375ms
[2025-04-17 09:48:04.331 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 41
[2025-04-17 09:48:04.339 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:48:04.362 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:48:04.441 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:48:08.855 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:48:09.223 WRN] Không tìm thấy nhân viên với ID: 100
[2025-04-17 09:48:18.614 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 14248.3564ms
[2025-04-17 09:48:18.616 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:48:18.620 ERR] An unhandled exception has occurred while executing the request.
ResponseException: API_NOT_FOUND
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 178
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:48:18.628 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 14296.3033ms
[2025-04-17 09:51:17.925 INF] Now listening on: https://localhost:7101
[2025-04-17 09:51:17.952 INF] Now listening on: http://localhost:5230
[2025-04-17 09:51:17.955 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:51:17.956 INF] Hosting environment: Development
[2025-04-17 09:51:17.957 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:51:18.328 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:51:18.484 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 156.6134ms
[2025-04-17 09:51:18.950 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:51:19.113 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.7349ms
[2025-04-17 09:51:25.303 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 40
[2025-04-17 09:51:25.313 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:51:25.334 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:51:25.397 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:51:25.405 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:51:25.642 WRN] Không tìm thấy nhân viên với ID: 10
[2025-04-17 09:51:25.649 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 310.5335ms
[2025-04-17 09:51:25.650 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:51:25.653 ERR] An unhandled exception has occurred while executing the request.
WebApplication1.common.ErrorResponse: Exception of type 'WebApplication1.common.ErrorResponse' was thrown.
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 179
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:51:25.668 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 365.2514ms
[2025-04-17 09:52:00.367 INF] Application is shutting down...
[2025-04-17 09:52:05.217 INF] Now listening on: https://localhost:7101
[2025-04-17 09:52:05.250 INF] Now listening on: http://localhost:5230
[2025-04-17 09:52:05.253 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:52:05.254 INF] Hosting environment: Development
[2025-04-17 09:52:05.255 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:52:05.596 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:52:05.769 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 172.1929ms
[2025-04-17 09:52:06.487 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:52:06.613 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.8063ms
[2025-04-17 09:52:07.970 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 40
[2025-04-17 09:52:07.980 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:52:08.003 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:52:08.088 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:52:08.128 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:52:08.487 WRN] Không tìm thấy nhân viên với ID: 10
[2025-04-17 09:52:40.011 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 32002.2848ms
[2025-04-17 09:52:40.013 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:52:40.017 ERR] An unhandled exception has occurred while executing the request.
WebApplication1.common.ErrorResponse: Exception of type 'WebApplication1.common.ErrorResponse' was thrown.
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment)
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:52:40.027 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 32057.4025ms
[2025-04-17 09:52:55.812 INF] Now listening on: https://localhost:7101
[2025-04-17 09:52:55.841 INF] Now listening on: http://localhost:5230
[2025-04-17 09:52:55.844 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:52:55.845 INF] Hosting environment: Development
[2025-04-17 09:52:55.845 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:52:56.139 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:52:56.364 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 225.5733ms
[2025-04-17 09:52:57.673 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:52:57.802 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.7437ms
[2025-04-17 09:52:59.283 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 40
[2025-04-17 09:52:59.291 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:52:59.313 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:52:59.396 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:52:59.435 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:52:59.806 WRN] Không tìm thấy nhân viên với ID: 10
[2025-04-17 09:53:03.334 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 4016.0009ms
[2025-04-17 09:53:03.336 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:53:03.339 ERR] An unhandled exception has occurred while executing the request.
WebApplication1.common.ErrorResponse: Exception of type 'WebApplication1.common.ErrorResponse' was thrown.
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 181
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:53:03.348 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 4064.5104ms
[2025-04-17 09:55:52.019 INF] Now listening on: https://localhost:7101
[2025-04-17 09:55:52.049 INF] Now listening on: http://localhost:5230
[2025-04-17 09:55:52.052 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 09:55:52.053 INF] Hosting environment: Development
[2025-04-17 09:55:52.054 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 09:55:52.510 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 09:55:52.671 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 160.6194ms
[2025-04-17 09:55:53.102 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 09:55:53.298 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 195.0296ms
[2025-04-17 09:55:56.131 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 40
[2025-04-17 09:55:56.139 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:55:56.162 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 09:55:56.225 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 09:55:56.233 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 09:55:56.487 WRN] Không tìm thấy nhân viên với ID: 10
[2025-04-17 09:55:56.494 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 328.29ms
[2025-04-17 09:55:56.495 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 09:55:56.500 ERR] An unhandled exception has occurred while executing the request.
ErrorResponse: Staff not found
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 181
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method4(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 09:55:56.519 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 500 null text/plain; charset=utf-8 387.987ms
[2025-04-17 09:59:57.098 INF] Application is shutting down...
[2025-04-17 10:05:33.712 INF] Now listening on: https://localhost:7101
[2025-04-17 10:05:33.740 INF] Now listening on: http://localhost:5230
[2025-04-17 10:05:33.742 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 10:05:33.743 INF] Hosting environment: Development
[2025-04-17 10:05:33.744 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 10:05:34.215 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 10:05:34.377 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 160.462ms
[2025-04-17 10:05:34.779 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 10:05:34.963 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.9918ms
[2025-04-17 10:05:42.543 INF] Request starting HTTP/2 PUT https://localhost:7101/DALStaff - application/json 40
[2025-04-17 10:05:42.551 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 10:05:42.571 INF] Route matched with {action = "UpdateStaff", controller = "DALStaff"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateStaff(ClassLibrary1.DAL.DTOS.StaffDepartmentDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 10:05:42.632 INF] Executing action method WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) - Validation state: "Valid"
[2025-04-17 10:05:42.639 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 10:05:42.886 WRN] Không tìm thấy nhân viên với ID: 10
[2025-04-17 10:05:42.890 ERR] Exception caught by CustomExceptionFilter
ErrorResponse: Staff not found
   at WorkerService1.DAL.DALService.StaffService.ChosenStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALService\StaffService.cs:line 181
   at WebApplication1.Controller.DALStaffController.UpdateStaff(StaffDepartmentDto staffDepartment) in D:\NET\WebApplication1\WebApplication1\DALController\DALStaffController.cs:line 72
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 10:05:42.906 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 10:05:42.922 INF] Executed action WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1) in 346.1705ms
[2025-04-17 10:05:42.923 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.UpdateStaff (WebApplication1)'
[2025-04-17 10:05:42.924 INF] Request finished HTTP/2 PUT https://localhost:7101/DALStaff - 404 null application/json; charset=utf-8 380.5828ms
[2025-04-17 10:06:13.688 INF] Application is shutting down...
[2025-04-17 10:36:05.000 INF] Now listening on: https://localhost:7101
[2025-04-17 10:36:05.028 INF] Now listening on: http://localhost:5230
[2025-04-17 10:36:05.112 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 10:36:05.113 INF] Hosting environment: Development
[2025-04-17 10:36:05.114 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 10:36:06.089 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 10:36:06.391 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 320.1254ms
[2025-04-17 10:36:06.770 INF] Request starting HTTP/2 GET https://localhost:7101/_framework/aspnetcore-browser-refresh.js - null null
[2025-04-17 10:36:06.770 INF] Request starting HTTP/2 GET https://localhost:7101/_vs/browserLink - null null
[2025-04-17 10:36:06.788 INF] Request finished HTTP/2 GET https://localhost:7101/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.2295ms
[2025-04-17 10:36:06.892 INF] Request finished HTTP/2 GET https://localhost:7101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.4747ms
[2025-04-17 10:36:07.700 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 10:36:07.734 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.4535ms
[2025-04-17 10:36:15.194 INF] Request starting HTTP/2 POST https://localhost:7101/DALStaff - application/json 186
[2025-04-17 10:36:15.204 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.CreateStaff (WebApplication1)'
[2025-04-17 10:36:15.233 INF] Route matched with {action = "CreateStaff", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateStaff(ClassLibrary1.DAL.DTOS.StaffInsertDto) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 10:36:15.335 INF] Thực hiện insert với query: INSERT INTO tbl_staff (
                full_name, position, phone_number, address, age, salary, email, date_of_join, is_deleted
                )
                VALUES (
                @FullName, @Position, @Phone, @Address, @Age, @Salary, @Email, @DateOfJoin, false
                )
[2025-04-17 10:36:15.656 INF] Insert nhân viên thành công: string
[2025-04-17 10:36:15.663 INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
[2025-04-17 10:36:15.669 INF] Executed action WebApplication1.Controller.DALStaffController.CreateStaff (WebApplication1) in 432.6613ms
[2025-04-17 10:36:15.671 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.CreateStaff (WebApplication1)'
[2025-04-17 10:36:15.672 INF] Request finished HTTP/2 POST https://localhost:7101/DALStaff - 200 null application/json; charset=utf-8 477.9453ms
[2025-04-17 10:36:21.015 INF] Request starting HTTP/2 GET https://localhost:7101/DALStaff/3 - null null
[2025-04-17 10:36:21.017 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.GetStaffById (WebApplication1)'
[2025-04-17 10:36:21.027 INF] Route matched with {action = "GetStaffById", controller = "DALStaff"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[ClassLibrary1.DAL.DTOS.Staff] GetStaffById(Int64) on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 10:36:21.034 INF] Thực hiện query: SELECT id_staff AS Id, full_name AS FullName, position AS Position, phone_number AS Phone,
            address AS Address, age AS Age, salary AS Salary, email AS Email, date_of_join AS DateOfJoin
            FROM tbl_staff WHERE id_staff = @Id AND is_deleted = false
[2025-04-17 10:36:21.052 INF] Tìm thấy nhân viên với ID: 3
[2025-04-17 10:36:21.053 INF] Executing OkObjectResult, writing value of type 'ClassLibrary1.DAL.DTOS.Staff'.
[2025-04-17 10:36:21.061 INF] Executed action WebApplication1.Controller.DALStaffController.GetStaffById (WebApplication1) in 31.4627ms
[2025-04-17 10:36:21.062 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.GetStaffById (WebApplication1)'
[2025-04-17 10:36:21.063 INF] Request finished HTTP/2 GET https://localhost:7101/DALStaff/3 - 200 null application/json; charset=utf-8 48.7341ms
[2025-04-17 11:12:48.392 INF] Now listening on: https://localhost:7101
[2025-04-17 11:12:48.426 INF] Now listening on: http://localhost:5230
[2025-04-17 11:12:48.429 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:12:48.430 INF] Hosting environment: Development
[2025-04-17 11:12:48.430 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:12:48.846 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:12:49.054 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 208.8401ms
[2025-04-17 11:12:49.555 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:12:49.825 ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - WebApplication1.Controller.DepartmentController.CreateDepartment (WebApplication1). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - WebApplication1.Model.DepartmentModel. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$DepartmentModel" for type "$WebApplication1.Model.DepartmentModel". The same schemaId is already used for type "$ClassLibrary1.DAL.DTOS.DepartmentModel.DepartmentModel"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 11:12:49.859 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 302.9756ms
[2025-04-17 11:14:49.636 INF] Application is shutting down...
[2025-04-17 11:15:27.851 INF] Now listening on: https://localhost:7101
[2025-04-17 11:15:27.885 INF] Now listening on: http://localhost:5230
[2025-04-17 11:15:27.889 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:15:27.890 INF] Hosting environment: Development
[2025-04-17 11:15:27.891 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:15:28.307 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:15:28.500 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 193.9232ms
[2025-04-17 11:15:29.747 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:15:29.831 ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - WebApplication1.Controller.DepartmentController.CreateDepartment (WebApplication1). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - WebApplication1.Dto.DepartmentDto. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$DepartmentDto" for type "$WebApplication1.Dto.DepartmentDto". The same schemaId is already used for type "$ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDto"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForType(Type modelType, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.CreateResponseMediaType(Type modelType, SchemaRepository schemaRespository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.<>c__DisplayClass25_0.<GenerateResponse>b__2(String contentType)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateResponse(ApiDescription apiDescription, SchemaRepository schemaRepository, String statusCode, ApiResponseType apiResponseType)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateResponses(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 11:15:29.852 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 104.7729ms
[2025-04-17 11:16:38.582 INF] Application is shutting down...
[2025-04-17 11:16:46.887 INF] Now listening on: https://localhost:7101
[2025-04-17 11:16:46.920 INF] Now listening on: http://localhost:5230
[2025-04-17 11:16:46.923 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:16:46.925 INF] Hosting environment: Development
[2025-04-17 11:16:46.925 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:16:47.261 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:16:47.432 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 172.2499ms
[2025-04-17 11:16:47.924 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:16:48.157 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 232.6617ms
[2025-04-17 11:16:52.340 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 11:16:52.350 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:16:52.373 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:16:52.385 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:16:52.410 ERR] Exception caught by CustomExceptionFilter
System.Exception: Query 'getAllDepartments' not found in XML file.
   at ClassLibrary1.DAL.DbConnection.SqlQueryLoader.GetQueryFromXml(String queryName) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\SqlQueryLoader.cs:line 25
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.GetAllDepartments() in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 25
   at DALDepartmentController.GetALLDepartment() in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 32
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:16:52.434 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:16:52.473 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 96.3054ms
[2025-04-17 11:16:52.474 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:16:52.474 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 500 null application/json; charset=utf-8 134.568ms
[2025-04-17 11:17:14.796 INF] Application is shutting down...
[2025-04-17 11:17:18.414 INF] Now listening on: https://localhost:7101
[2025-04-17 11:17:18.444 INF] Now listening on: http://localhost:5230
[2025-04-17 11:17:18.447 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:17:18.448 INF] Hosting environment: Development
[2025-04-17 11:17:18.449 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:17:18.955 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:17:19.097 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 141.9971ms
[2025-04-17 11:17:21.237 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:17:21.331 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.6465ms
[2025-04-17 11:17:36.217 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 11:17:36.223 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:17:36.247 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:17:36.260 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:17:36.286 INF] Thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false
                ;
[2025-04-17 11:17:36.593 INF] Executed action method DALDepartmentController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 328.2709ms.
[2025-04-17 11:17:36.602 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:17:36.651 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 398.1433ms
[2025-04-17 11:17:36.652 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:17:36.653 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 200 null application/json; charset=utf-8 436.4736ms
[2025-04-17 11:17:41.741 INF] Request starting HTTP/2 POST https://localhost:7101/DALDepartment - application/json 101
[2025-04-17 11:17:41.747 INF] Executing endpoint 'DALDepartmentController.CreateDepartment (WebApplication1)'
[2025-04-17 11:17:41.754 INF] Route matched with {action = "CreateDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] CreateDepartment(ClassLibrary1.DAL.DTOS.DepartmentModel.DepartmentDALModel) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:17:41.791 INF] Executing action method DALDepartmentController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:17:41.794 ERR] Exception caught by CustomExceptionFilter
System.Exception: Query 'createDepartment' not found in XML file.
   at ClassLibrary1.DAL.DbConnection.SqlQueryLoader.GetQueryFromXml(String queryName) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\SqlQueryLoader.cs:line 25
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.CreateDepartment(DepartmentDALModel department) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 35
   at DALDepartmentController.CreateDepartment(DepartmentDALModel departmentDalModel) in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 23
   at lambda_method7(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:17:41.806 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:17:41.808 INF] Executed action DALDepartmentController.CreateDepartment (WebApplication1) in 53.1123ms
[2025-04-17 11:17:41.809 INF] Executed endpoint 'DALDepartmentController.CreateDepartment (WebApplication1)'
[2025-04-17 11:17:41.810 INF] Request finished HTTP/2 POST https://localhost:7101/DALDepartment - 500 null application/json; charset=utf-8 68.6739ms
[2025-04-17 11:18:08.553 INF] Application is shutting down...
[2025-04-17 11:18:12.126 INF] Now listening on: https://localhost:7101
[2025-04-17 11:18:12.154 INF] Now listening on: http://localhost:5230
[2025-04-17 11:18:12.157 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:18:12.158 INF] Hosting environment: Development
[2025-04-17 11:18:12.160 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:18:12.710 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:18:12.871 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 161.3874ms
[2025-04-17 11:18:15.505 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:18:15.597 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.2841ms
[2025-04-17 11:18:27.218 INF] Request starting HTTP/2 POST https://localhost:7101/DALDepartment - application/json 101
[2025-04-17 11:18:27.236 INF] Executing endpoint 'DALDepartmentController.CreateDepartment (WebApplication1)'
[2025-04-17 11:18:27.259 INF] Route matched with {action = "CreateDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] CreateDepartment(ClassLibrary1.DAL.DTOS.DepartmentModel.DepartmentDALModel) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:18:27.328 INF] Executing action method DALDepartmentController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:18:27.352 INF] Thực hiện query: INSERT INTO tbl_department (
                    name_department,
                    status,
                    code,
                    description,
                    is_deleted
                    )
                    VALUES (
                    @NameDepartment,
                    @Status,
                    @Code,
                    @Description,
                    false
                    );
[2025-04-17 11:18:27.621 ERR] Exception caught by CustomExceptionFilter
MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'created_at' doesn't have a default value
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.<>c__DisplayClass5_0.<CreateDepartment>b__0(IDbConnection conn) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 38
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnection[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 29
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.CreateDepartment(DepartmentDALModel department) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 37
   at DALDepartmentController.CreateDepartment(DepartmentDALModel departmentDalModel) in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 23
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:18:27.647 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:18:27.660 INF] Executed action DALDepartmentController.CreateDepartment (WebApplication1) in 395.0508ms
[2025-04-17 11:18:27.662 INF] Executed endpoint 'DALDepartmentController.CreateDepartment (WebApplication1)'
[2025-04-17 11:18:27.663 INF] Request finished HTTP/2 POST https://localhost:7101/DALDepartment - 500 null application/json; charset=utf-8 444.5527ms
[2025-04-17 11:19:46.300 INF] Application is shutting down...
[2025-04-17 11:19:50.386 INF] Now listening on: https://localhost:7101
[2025-04-17 11:19:50.471 INF] Now listening on: http://localhost:5230
[2025-04-17 11:19:50.480 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:19:50.485 INF] Hosting environment: Development
[2025-04-17 11:19:50.486 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:19:59.318 INF] Request starting HTTP/2 POST https://localhost:7101/DALDepartment - application/json 101
[2025-04-17 11:19:59.359 INF] Executing endpoint 'DALDepartmentController.CreateDepartment (WebApplication1)'
[2025-04-17 11:19:59.382 INF] Route matched with {action = "CreateDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] CreateDepartment(ClassLibrary1.DAL.DTOS.DepartmentModel.DepartmentDALModel) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:19:59.483 INF] Executing action method DALDepartmentController.CreateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:19:59.507 INF] Thực hiện query: INSERT INTO tbl_department (
                    name_department,
                    status,
                    code,
                    description,
                    created_at,
                    is_deleted
                    )
                    VALUES (
                    @NameDepartment,
                    @Status,
                    @Code,
                    @Description,
                    NOW(),
                    false
                    );
[2025-04-17 11:19:59.815 INF] Thêm thành công department: string
[2025-04-17 11:19:59.822 INF] Executed action method DALDepartmentController.CreateDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 332.1696ms.
[2025-04-17 11:19:59.832 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:19:59.856 INF] Executed action DALDepartmentController.CreateDepartment (WebApplication1) in 470.0091ms
[2025-04-17 11:19:59.857 INF] Executed endpoint 'DALDepartmentController.CreateDepartment (WebApplication1)'
[2025-04-17 11:19:59.860 INF] Request finished HTTP/2 POST https://localhost:7101/DALDepartment - 200 null application/json; charset=utf-8 543.3993ms
[2025-04-17 11:20:13.358 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 11:20:13.365 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:20:13.367 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:20:13.368 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:20:13.371 INF] Thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false
                ;
[2025-04-17 11:20:13.392 INF] Executed action method DALDepartmentController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.4095ms.
[2025-04-17 11:20:13.393 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:20:13.406 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 38.4656ms
[2025-04-17 11:20:13.408 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:20:13.409 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 200 null application/json; charset=utf-8 50.7044ms
[2025-04-17 11:20:20.116 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:20:20.119 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:20:20.123 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:20:20.127 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:20:20.134 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:20:20.140 INF] Tìm thấy department với ID: 5
[2025-04-17 11:20:20.182 ERR] Exception caught by CustomExceptionFilter
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot implicitly convert type 'object' to 'ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto'. An explicit conversion exists (are you missing a cast?)
   at CallSite.Target(Closure, CallSite, Object)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.CheckDepartmentExist(Int64 departmentId) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 98
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.DeleteDepartment(Int64 departmentId) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 69
   at DALDepartmentController.DeleteDepartment(Int64 id) in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 50
   at lambda_method9(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:20:20.196 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:20:20.198 INF] Executed action DALDepartmentController.DeleteDepartment (WebApplication1) in 73.5124ms
[2025-04-17 11:20:20.199 INF] Executed endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:20:20.200 INF] Request finished HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - 500 null application/json; charset=utf-8 84.2676ms
[2025-04-17 11:22:44.468 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:22:44.471 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:22:44.472 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:22:44.473 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:22:44.474 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:22:44.478 INF] Tìm thấy department với ID: 5
[2025-04-17 11:22:44.481 ERR] Exception caught by CustomExceptionFilter
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: Cannot implicitly convert type 'object' to 'ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto'. An explicit conversion exists (are you missing a cast?)
   at CallSite.Target(Closure, CallSite, Object)
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.CheckDepartmentExist(Int64 departmentId) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 98
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.DeleteDepartment(Int64 departmentId) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 69
   at DALDepartmentController.DeleteDepartment(Int64 id) in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 50
   at lambda_method9(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:22:44.485 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:22:44.486 INF] Executed action DALDepartmentController.DeleteDepartment (WebApplication1) in 12.9598ms
[2025-04-17 11:22:44.487 INF] Executed endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:22:44.488 INF] Request finished HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - 500 null application/json; charset=utf-8 19.4252ms
[2025-04-17 11:23:10.355 INF] Application is shutting down...
[2025-04-17 11:23:19.340 INF] Now listening on: https://localhost:7101
[2025-04-17 11:23:19.429 INF] Now listening on: http://localhost:5230
[2025-04-17 11:23:19.434 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:23:19.436 INF] Hosting environment: Development
[2025-04-17 11:23:19.437 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:23:20.024 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:23:20.968 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 893.0157ms
[2025-04-17 11:23:30.066 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:23:30.073 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:23:30.101 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:23:30.126 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:23:35.271 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:23:36.743 INF] Tìm thấy department với ID: 5
[2025-04-17 11:24:04.218 INF] Now listening on: https://localhost:7101
[2025-04-17 11:24:04.261 INF] Now listening on: http://localhost:5230
[2025-04-17 11:24:04.267 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:24:04.269 INF] Hosting environment: Development
[2025-04-17 11:24:04.269 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:24:15.354 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:24:15.393 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:24:15.416 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:24:15.440 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:24:19.820 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:24:20.255 INF] Tìm thấy department với ID: 5
[2025-04-17 11:25:22.519 INF] Now listening on: https://localhost:7101
[2025-04-17 11:25:22.549 INF] Now listening on: http://localhost:5230
[2025-04-17 11:25:22.557 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:25:22.558 INF] Hosting environment: Development
[2025-04-17 11:25:22.559 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:25:23.336 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:25:23.475 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 140.6544ms
[2025-04-17 11:25:24.150 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/favicon-32x32.png - null null
[2025-04-17 11:25:24.162 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-04-17 11:25:24.165 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/favicon-32x32.png - 200 628 image/png 14.8412ms
[2025-04-17 11:25:24.168 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:25:24.272 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.241ms
[2025-04-17 11:25:28.834 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:25:28.846 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:25:28.880 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:25:28.895 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:25:28.905 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:25:29.173 INF] Tìm thấy department với ID: 5
[2025-04-17 11:25:29.174 INF] Thực hiện query: DELETE FROM tbl_staff WHERE id_department = @Id
[2025-04-17 11:25:29.196 ERR] Exception caught by CustomExceptionFilter
MySql.Data.MySqlClient.MySqlException (0x80004005): Unknown column 'id_department' in 'where clause'
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.<>c__DisplayClass7_0.<DeleteDepartment>b__0(IDbConnection conn) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 73
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnection[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 29
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.DeleteDepartment(Int64 departmentId) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 72
   at DALDepartmentController.DeleteDepartment(Int64 id) in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 50
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:25:29.211 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:25:29.250 INF] Executed action DALDepartmentController.DeleteDepartment (WebApplication1) in 365.4973ms
[2025-04-17 11:25:29.251 INF] Executed endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:25:29.252 INF] Request finished HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - 500 null application/json; charset=utf-8 417.6432ms
[2025-04-17 11:25:51.739 INF] Application is shutting down...
[2025-04-17 11:25:57.635 INF] Now listening on: https://localhost:7101
[2025-04-17 11:25:57.672 INF] Now listening on: http://localhost:5230
[2025-04-17 11:25:57.676 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:25:57.677 INF] Hosting environment: Development
[2025-04-17 11:25:57.678 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:26:00.798 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:26:00.969 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 171.2552ms
[2025-04-17 11:26:02.112 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:26:02.265 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.6699ms
[2025-04-17 11:26:06.148 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:26:06.154 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:26:06.176 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:26:06.204 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:26:06.244 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:26:06.631 INF] Tìm thấy department với ID: 5
[2025-04-17 11:26:10.870 INF] Thực hiện query: DELETE FROM tbl_staff WHERE id_department = @Id
[2025-04-17 11:26:19.985 ERR] Exception caught by CustomExceptionFilter
MySql.Data.MySqlClient.MySqlException (0x80004005): Unknown column 'id_department' in 'where clause'
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.<>c__DisplayClass7_0.<DeleteDepartment>b__0(IDbConnection conn) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 73
   at ClassLibrary1.DAL.DbConnection.DbConnection.QueryWithConnection[T](Func`2 query) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\DbConnection.cs:line 29
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.DeleteDepartment(Int64 departmentId) in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 72
   at DALDepartmentController.DeleteDepartment(Int64 id) in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 50
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:26:20.004 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:26:20.050 INF] Executed action DALDepartmentController.DeleteDepartment (WebApplication1) in 13868.9013ms
[2025-04-17 11:26:20.051 INF] Executed endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:26:20.052 INF] Request finished HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - 500 null application/json; charset=utf-8 13904.708ms
[2025-04-17 11:27:14.024 INF] Now listening on: https://localhost:7101
[2025-04-17 11:27:14.053 INF] Now listening on: http://localhost:5230
[2025-04-17 11:27:14.056 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:27:14.057 INF] Hosting environment: Development
[2025-04-17 11:27:14.058 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:27:14.558 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:27:14.734 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 176.2487ms
[2025-04-17 11:27:15.513 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:27:15.642 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.6199ms
[2025-04-17 11:27:20.154 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - null null
[2025-04-17 11:27:20.163 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:27:20.285 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:27:20.323 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:27:20.383 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:27:20.855 INF] Tìm thấy department với ID: 5
[2025-04-17 11:27:20.856 INF] Thực hiện query: DELETE FROM tbl_department WHERE id_department = @Id
[2025-04-17 11:27:20.872 INF] Executed action method DALDepartmentController.DeleteDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 543.0325ms.
[2025-04-17 11:27:20.881 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:27:20.925 INF] Executed action DALDepartmentController.DeleteDepartment (WebApplication1) in 633.4507ms
[2025-04-17 11:27:20.926 INF] Executed endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:27:20.926 INF] Request finished HTTP/2 DELETE https://localhost:7101/DALDepartment/5 - 200 null application/json; charset=utf-8 772.6153ms
[2025-04-17 11:28:13.863 INF] Now listening on: https://localhost:7101
[2025-04-17 11:28:13.911 INF] Now listening on: http://localhost:5230
[2025-04-17 11:28:13.921 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:28:13.922 INF] Hosting environment: Development
[2025-04-17 11:28:13.923 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:28:16.705 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:28:16.858 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 156.2193ms
[2025-04-17 11:28:20.401 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 11:28:20.408 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:28:20.423 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:28:20.433 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:28:20.440 INF] Thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false
                ;
[2025-04-17 11:28:20.691 INF] Executed action method DALDepartmentController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 253.5077ms.
[2025-04-17 11:28:20.701 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:28:20.749 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 320.8781ms
[2025-04-17 11:28:20.750 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:28:20.751 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 200 null application/json; charset=utf-8 350.2379ms
[2025-04-17 11:28:23.473 INF] Request starting HTTP/2 DELETE https://localhost:7101/DALDepartment/2 - null null
[2025-04-17 11:28:23.487 INF] Executing endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:28:23.501 INF] Route matched with {action = "DeleteDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int64] DeleteDepartment(Int64) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:28:23.516 INF] Executing action method DALDepartmentController.DeleteDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:28:23.520 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:28:23.544 INF] Tìm thấy department với ID: 2
[2025-04-17 11:28:23.547 INF] Thực hiện query: DELETE FROM tbl_department WHERE id_department = @Id
[2025-04-17 11:28:23.555 INF] Executed action method DALDepartmentController.DeleteDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.8611ms.
[2025-04-17 11:28:23.556 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:28:23.560 INF] Executed action DALDepartmentController.DeleteDepartment (WebApplication1) in 56.4489ms
[2025-04-17 11:28:23.561 INF] Executed endpoint 'DALDepartmentController.DeleteDepartment (WebApplication1)'
[2025-04-17 11:28:23.562 INF] Request finished HTTP/2 DELETE https://localhost:7101/DALDepartment/2 - 200 null application/json; charset=utf-8 88.9596ms
[2025-04-17 11:29:07.830 INF] Application is shutting down...
[2025-04-17 11:29:49.175 INF] Now listening on: https://localhost:7101
[2025-04-17 11:29:49.211 INF] Now listening on: http://localhost:5230
[2025-04-17 11:29:49.215 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:29:49.217 INF] Hosting environment: Development
[2025-04-17 11:29:49.218 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:29:49.443 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:29:49.706 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 266.2965ms
[2025-04-17 11:29:50.706 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:29:50.846 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 140.028ms
[2025-04-17 11:30:27.985 INF] Request starting HTTP/2 PUT https://localhost:7101/DALDepartment/1 - application/json 113
[2025-04-17 11:30:27.990 INF] Executing endpoint 'DALDepartmentController.UpdateDepartment (WebApplication1)'
[2025-04-17 11:30:28.012 INF] Route matched with {action = "UpdateDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Int32] UpdateDepartment(Int64, ClassLibrary1.DAL.DTOS.DepartmentModel.DepartmentDALModel) on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:30:28.092 INF] Executing action method DALDepartmentController.UpdateDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:30:28.135 INF] thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false and id_department = @Id
                ;
[2025-04-17 11:30:28.557 INF] Tìm thấy department với ID: 1
[2025-04-17 11:30:28.558 INF] Thực hiện query: UPDATE tbl_department
            SET name_department = @NameDepartment,
            status = @Status,
            code = @Code,
            description = @Description
            WHERE id_department = @Id AND is_deleted = 0
[2025-04-17 11:30:28.586 INF] thực hiện update thành công department: Tòa Nhà Detach
[2025-04-17 11:30:28.590 INF] Executed action method DALDepartmentController.UpdateDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 493.7101ms.
[2025-04-17 11:30:28.599 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:30:28.612 INF] Executed action DALDepartmentController.UpdateDepartment (WebApplication1) in 594.6104ms
[2025-04-17 11:30:28.614 INF] Executed endpoint 'DALDepartmentController.UpdateDepartment (WebApplication1)'
[2025-04-17 11:30:28.615 INF] Request finished HTTP/2 PUT https://localhost:7101/DALDepartment/1 - 200 null application/json; charset=utf-8 630.8246ms
[2025-04-17 11:30:32.570 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 11:30:32.572 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:30:32.574 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:30:32.576 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:30:32.578 INF] Thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false
                ;
[2025-04-17 11:30:32.586 INF] Executed action method DALDepartmentController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.5747ms.
[2025-04-17 11:30:32.588 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:30:32.602 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 26.1546ms
[2025-04-17 11:30:32.603 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:30:32.604 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 200 null application/json; charset=utf-8 34.404ms
[2025-04-17 11:32:36.235 INF] Now listening on: https://localhost:7101
[2025-04-17 11:32:36.277 INF] Now listening on: http://localhost:5230
[2025-04-17 11:32:36.281 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 11:32:36.282 INF] Hosting environment: Development
[2025-04-17 11:32:36.283 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 11:32:44.362 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 11:32:44.553 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 191.7583ms
[2025-04-17 11:32:45.661 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 11:32:45.807 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.0687ms
[2025-04-17 11:32:56.217 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 11:32:56.224 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:32:56.245 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 11:32:56.257 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 11:32:58.910 ERR] Exception caught by CustomExceptionFilter
System.IO.FileNotFoundException: XML file not found at: D:\NET\WebApplication1\WebApplication1\bin\Debug\net8.0\XML\Staff.xml
   at ClassLibrary1.DAL.DbConnection.SqlQueryLoader.GetQueryFromXml(String queryName) in D:\NET\WebApplication1\ClassLibrary1.DAL\DbConnection\SqlQueryLoader.cs:line 15
   at ClassLibrary1.DAL.DALDepartmentService.DepartmentService.GetAllDepartments() in D:\NET\WebApplication1\ClassLibrary1.DAL\DALDepartmentService\DepartmentService.cs:line 25
   at DALDepartmentController.GetALLDepartment() in D:\NET\WebApplication1\WebApplication1\DALController\DALDepartmentController.cs:line 32
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 11:32:58.922 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 11:32:58.964 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 2714.7175ms
[2025-04-17 11:32:58.965 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 11:32:58.966 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 500 null application/json; charset=utf-8 2749.3185ms
[2025-04-17 13:46:22.849 INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='demo_ef' AND TABLE_NAME='__EFMigrationsHistory';
[2025-04-17 13:46:22.890 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='demo_ef' AND TABLE_NAME='__EFMigrationsHistory';
[2025-04-17 13:46:22.927 INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
[2025-04-17 13:46:22.938 INF] Applying migration '20250417064608_InitialCreate'.
[2025-04-17 13:46:22.956 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250417064608_InitialCreate', '8.0.13');
[2025-04-17 13:47:49.475 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='demo_ef' AND TABLE_NAME='__EFMigrationsHistory';
[2025-04-17 13:47:49.521 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='demo_ef' AND TABLE_NAME='__EFMigrationsHistory';
[2025-04-17 13:47:49.538 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
[2025-04-17 13:47:49.547 INF] Applying migration '20250417064736_CreateUserDb'.
[2025-04-17 13:47:49.646 INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Users` (
    `user_id` bigint NOT NULL AUTO_INCREMENT,
    `username` longtext CHARACTER SET utf8mb4 NOT NULL,
    `password` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Users` PRIMARY KEY (`user_id`)
) CHARACTER SET=utf8mb4;
[2025-04-17 13:47:49.653 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250417064736_CreateUserDb', '8.0.13');
[2025-04-17 14:06:40.792 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 14:06:40.974 INF] Now listening on: https://localhost:7101
[2025-04-17 14:06:40.977 INF] Now listening on: http://localhost:5230
[2025-04-17 14:06:40.980 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:06:40.981 INF] Hosting environment: Development
[2025-04-17 14:06:40.981 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:06:43.456 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:06:43.599 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 143.8836ms
[2025-04-17 14:06:44.314 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:06:44.415 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.0161ms
[2025-04-17 14:07:00.194 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:07:00.827 ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at JwtConfig.<>c__DisplayClass0_0.<AddJwtAuthentication>b__1(JwtBearerOptions options) in D:\NET\WebApplication1\WebApplication1\Configs\JwtConfig.cs:line 22
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 14:07:00.844 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null text/plain; charset=utf-8 650.4703ms
[2025-04-17 14:09:27.051 INF] Application is shutting down...
[2025-04-17 14:09:30.275 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 14:09:30.400 INF] Now listening on: https://localhost:7101
[2025-04-17 14:09:30.402 INF] Now listening on: http://localhost:5230
[2025-04-17 14:09:30.404 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:09:30.405 INF] Hosting environment: Development
[2025-04-17 14:09:30.406 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:09:33.450 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:09:33.573 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 123.445ms
[2025-04-17 14:09:34.236 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:09:34.336 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.4664ms
[2025-04-17 14:09:44.863 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:09:44.981 ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: IDX10703: Cannot create a 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey', key length is zero.
   at Microsoft.IdentityModel.Tokens.SymmetricSecurityKey..ctor(Byte[] key)
   at JwtConfig.<>c__DisplayClass0_0.<AddJwtAuthentication>b__1(JwtBearerOptions options) in D:\NET\WebApplication1\WebApplication1\Configs\JwtConfig.cs:line 22
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 14:09:44.996 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null text/plain; charset=utf-8 133.1774ms
[2025-04-17 14:11:11.141 INF] Application is shutting down...
[2025-04-17 14:20:31.917 INF] Now listening on: https://localhost:7101
[2025-04-17 14:20:31.949 INF] Now listening on: http://localhost:5230
[2025-04-17 14:20:31.952 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:20:31.953 INF] Hosting environment: Development
[2025-04-17 14:20:31.953 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:20:34.866 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:20:35.021 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 162.8333ms
[2025-04-17 14:20:40.711 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:20:40.876 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.3975ms
[2025-04-17 14:20:51.039 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:20:51.048 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:20:51.073 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:20:51.376 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:20:52.218 INF] Executed DbCommand (35ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:20:52.299 ERR] Exception caught by CustomExceptionFilter
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at JwtService.GenerateJwtToken(String username) in D:\NET\WebApplication1\WebApplication1\Configs\JwtService.cs:line 25
   at AuthService.Login(LoginRequest loginRequest) in D:\NET\WebApplication1\WebApplication1\Service\AuthService\AuthService.cs:line 27
   at WebApplication1.Controller.AuthController.Login(LoginRequest request) in D:\NET\WebApplication1\WebApplication1\Controller\AuthController.cs:line 26
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 14:20:52.319 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:20:52.339 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1259.8178ms
[2025-04-17 14:20:52.340 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:20:52.349 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null application/json; charset=utf-8 1309.6694ms
[2025-04-17 14:21:16.801 INF] Application is shutting down...
[2025-04-17 14:21:24.845 INF] Now listening on: https://localhost:7101
[2025-04-17 14:21:24.884 INF] Now listening on: http://localhost:5230
[2025-04-17 14:21:24.887 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:21:24.889 INF] Hosting environment: Development
[2025-04-17 14:21:24.889 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:21:25.361 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:21:25.633 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 273.1141ms
[2025-04-17 14:21:29.306 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:21:29.518 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.6993ms
[2025-04-17 14:21:36.958 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:21:36.964 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:21:36.987 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:21:37.393 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:21:38.285 INF] Executed DbCommand (25ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:21:59.965 ERR] Exception caught by CustomExceptionFilter
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at JwtService.GenerateJwtToken(String username) in D:\NET\WebApplication1\WebApplication1\Configs\JwtService.cs:line 25
   at AuthService.Login(LoginRequest loginRequest) in D:\NET\WebApplication1\WebApplication1\Service\AuthService\AuthService.cs:line 27
   at WebApplication1.Controller.AuthController.Login(LoginRequest request) in D:\NET\WebApplication1\WebApplication1\Controller\AuthController.cs:line 26
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 14:21:59.983 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:22:00.008 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 23012.699ms
[2025-04-17 14:22:00.009 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:22:00.025 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null application/json; charset=utf-8 23066.8583ms
[2025-04-17 14:22:39.807 INF] Now listening on: https://localhost:7101
[2025-04-17 14:22:39.844 INF] Now listening on: http://localhost:5230
[2025-04-17 14:22:39.848 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:22:39.849 INF] Hosting environment: Development
[2025-04-17 14:22:39.850 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:22:41.694 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:22:41.868 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 175.3203ms
[2025-04-17 14:22:44.366 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:22:44.494 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.763ms
[2025-04-17 14:22:56.700 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:22:56.708 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:22:56.772 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:22:57.265 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:22:58.107 INF] Executed DbCommand (25ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:25:08.658 INF] Now listening on: https://localhost:7101
[2025-04-17 14:25:08.691 INF] Now listening on: http://localhost:5230
[2025-04-17 14:25:08.695 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:25:08.697 INF] Hosting environment: Development
[2025-04-17 14:25:08.697 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:25:13.910 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:25:14.093 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 180.924ms
[2025-04-17 14:25:42.891 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:25:42.899 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 7.3121ms
[2025-04-17 14:25:43.396 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:25:43.546 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.1609ms
[2025-04-17 14:25:51.219 INF] Now listening on: http://localhost:5230
[2025-04-17 14:25:51.250 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:25:51.251 INF] Hosting environment: Development
[2025-04-17 14:25:51.252 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:25:51.808 INF] Request starting HTTP/1.1 GET http://localhost:5230/swagger/index.html - null null
[2025-04-17 14:25:51.932 INF] Request finished HTTP/1.1 GET http://localhost:5230/swagger/index.html - 200 null text/html;charset=utf-8 124.2131ms
[2025-04-17 14:25:52.728 INF] Request starting HTTP/1.1 GET http://localhost:5230/swagger/favicon-32x32.png - null null
[2025-04-17 14:25:52.742 INF] Request starting HTTP/1.1 GET http://localhost:5230/swagger/v1/swagger.json - null null
[2025-04-17 14:25:52.748 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-04-17 14:25:52.750 INF] Request finished HTTP/1.1 GET http://localhost:5230/swagger/favicon-32x32.png - 200 628 image/png 22.7652ms
[2025-04-17 14:25:52.858 INF] Request finished HTTP/1.1 GET http://localhost:5230/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.4181ms
[2025-04-17 14:25:57.294 INF] Application is shutting down...
[2025-04-17 14:26:00.842 INF] Now listening on: https://localhost:7101
[2025-04-17 14:26:00.875 INF] Now listening on: http://localhost:5230
[2025-04-17 14:26:00.879 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:26:00.880 INF] Hosting environment: Development
[2025-04-17 14:26:00.881 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:26:01.333 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:26:01.515 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 183.1281ms
[2025-04-17 14:26:02.428 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:26:02.526 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.1538ms
[2025-04-17 14:26:16.891 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:26:16.899 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:26:16.926 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:26:17.164 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:26:17.835 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:26:17.905 ERR] Exception caught by CustomExceptionFilter
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at JwtService.GenerateJwtToken(String username) in D:\NET\WebApplication1\WebApplication1\Configs\JwtService.cs:line 25
   at AuthService.Login(LoginRequest loginRequest) in D:\NET\WebApplication1\WebApplication1\Service\AuthService\AuthService.cs:line 27
   at WebApplication1.Controller.AuthController.Login(LoginRequest request) in D:\NET\WebApplication1\WebApplication1\Controller\AuthController.cs:line 26
   at lambda_method5(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 14:26:17.921 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:26:17.932 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1002.0627ms
[2025-04-17 14:26:17.933 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:26:17.943 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null application/json; charset=utf-8 1052.3209ms
[2025-04-17 14:27:08.885 INF] Application is shutting down...
[2025-04-17 14:33:35.411 INF] Now listening on: https://localhost:7101
[2025-04-17 14:33:35.441 INF] Now listening on: http://localhost:5230
[2025-04-17 14:33:35.444 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:33:35.445 INF] Hosting environment: Development
[2025-04-17 14:33:35.446 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:33:36.920 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:33:37.048 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 128.2463ms
[2025-04-17 14:33:42.371 INF] Application is shutting down...
[2025-04-17 14:33:48.326 INF] Now listening on: https://localhost:7101
[2025-04-17 14:33:48.360 INF] Now listening on: http://localhost:5230
[2025-04-17 14:33:48.363 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:33:48.364 INF] Hosting environment: Development
[2025-04-17 14:33:48.364 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:33:48.689 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:33:48.893 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 205.4162ms
[2025-04-17 14:33:52.801 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:33:52.985 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.2862ms
[2025-04-17 14:34:00.780 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:34:00.819 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:34:00.850 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:34:08.712 ERR] Exception caught by CustomExceptionFilter
System.ArgumentNullException: Value cannot be null. (Parameter 'JWT Key is missing')
   at JwtService..ctor(IConfiguration configuration) in D:\NET\WebApplication1\WebApplication1\Configs\JwtService.cs:line 16
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method6(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 14:34:08.725 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:34:08.770 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 7900.1994ms
[2025-04-17 14:34:08.771 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:34:08.772 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null application/json; charset=utf-8 7992.0237ms
[2025-04-17 14:34:21.563 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:34:21.572 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:34:21.575 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:34:41.250 ERR] Exception caught by CustomExceptionFilter
System.ArgumentNullException: Value cannot be null. (Parameter 'JWT Key is missing')
   at JwtService..ctor(IConfiguration configuration) in D:\NET\WebApplication1\WebApplication1\Configs\JwtService.cs:line 16
   at InvokeStub_JwtService..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method6(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2025-04-17 14:34:41.263 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:34:41.265 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 19688.9266ms
[2025-04-17 14:34:41.267 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:34:41.269 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null application/json; charset=utf-8 19705.5577ms
[2025-04-17 14:36:02.236 INF] Now listening on: https://localhost:7101
[2025-04-17 14:36:02.268 INF] Now listening on: http://localhost:5230
[2025-04-17 14:36:02.271 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:36:02.272 INF] Hosting environment: Development
[2025-04-17 14:36:02.272 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:36:12.397 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:36:12.512 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 115.7442ms
[2025-04-17 14:36:13.355 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:36:13.454 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.4671ms
[2025-04-17 14:36:21.760 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:36:21.769 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:36:21.793 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:36:22.045 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:36:22.814 INF] Executed DbCommand (33ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:36:22.909 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 859.7451ms.
[2025-04-17 14:36:22.916 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:36:22.929 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1131.9094ms
[2025-04-17 14:36:22.930 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:36:22.938 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1178.2873ms
[2025-04-17 14:41:00.295 INF] Application is shutting down...
[2025-04-17 14:43:04.261 INF] Now listening on: https://localhost:7101
[2025-04-17 14:43:04.289 INF] Now listening on: http://localhost:5230
[2025-04-17 14:43:04.292 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:43:04.293 INF] Hosting environment: Development
[2025-04-17 14:43:04.293 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:43:05.430 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:43:05.567 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 136.8054ms
[2025-04-17 14:43:06.351 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:43:06.444 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.961ms
[2025-04-17 14:43:19.499 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 45
[2025-04-17 14:43:19.508 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:43:19.527 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:43:19.842 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:43:20.550 INF] Executed DbCommand (39ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:43:20.645 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 799.3848ms.
[2025-04-17 14:43:20.653 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:43:20.666 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1135.1227ms
[2025-04-17 14:43:20.667 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:43:20.675 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1175.9253ms
[2025-04-17 14:44:21.877 INF] Application is shutting down...
[2025-04-17 14:45:21.436 INF] Now listening on: https://localhost:7101
[2025-04-17 14:45:21.464 INF] Now listening on: http://localhost:5230
[2025-04-17 14:45:21.467 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:45:21.468 INF] Hosting environment: Development
[2025-04-17 14:45:21.468 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:45:21.870 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:45:22.024 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 152.1172ms
[2025-04-17 14:45:22.553 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:45:22.738 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.9549ms
[2025-04-17 14:45:30.220 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 14:45:30.232 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:45:30.253 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:45:30.497 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:45:31.174 INF] Executed DbCommand (33ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:45:31.269 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 767.3774ms.
[2025-04-17 14:45:31.275 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:45:31.287 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1029.7578ms
[2025-04-17 14:45:31.288 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:45:31.296 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1075.8651ms
[2025-04-17 14:46:12.711 INF] Application is shutting down...
[2025-04-17 14:46:16.164 INF] Now listening on: https://localhost:7101
[2025-04-17 14:46:16.191 INF] Now listening on: http://localhost:5230
[2025-04-17 14:46:16.193 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 14:46:16.194 INF] Hosting environment: Development
[2025-04-17 14:46:16.195 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 14:46:16.620 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 14:46:16.785 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 164.6027ms
[2025-04-17 14:46:17.402 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 14:46:17.728 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 326.369ms
[2025-04-17 14:46:34.251 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 45
[2025-04-17 14:46:34.259 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:46:34.280 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 14:46:34.553 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 14:46:35.313 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 14:46:35.410 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 852.1731ms.
[2025-04-17 14:46:35.417 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 14:46:35.430 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1145.9483ms
[2025-04-17 14:46:35.431 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 14:46:35.440 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1189.3654ms
[2025-04-17 14:50:24.085 INF] Application is shutting down...
[2025-04-17 15:13:47.842 INF] Now listening on: https://localhost:7101
[2025-04-17 15:13:47.874 INF] Now listening on: http://localhost:5230
[2025-04-17 15:13:47.877 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:13:47.878 INF] Hosting environment: Development
[2025-04-17 15:13:47.878 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:13:48.282 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:13:48.456 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 177.2202ms
[2025-04-17 15:13:49.612 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:13:49.717 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.7808ms
[2025-04-17 15:14:02.053 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 52
[2025-04-17 15:14:02.065 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:14:02.092 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:14:02.412 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-04-17 15:14:02.445 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 348.4928ms
[2025-04-17 15:14:02.447 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:14:02.450 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 400 null application/problem+json; charset=utf-8 396.6916ms
[2025-04-17 15:14:09.590 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 15:14:09.594 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:14:09.597 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:14:09.697 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:14:10.541 INF] Executed DbCommand (40ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 15:14:10.651 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 947.9486ms.
[2025-04-17 15:14:10.654 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 15:14:10.659 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1060.7802ms
[2025-04-17 15:14:10.660 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:14:10.669 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1078.814ms
[2025-04-17 15:16:03.416 INF] Application is shutting down...
[2025-04-17 15:16:07.155 INF] Now listening on: https://localhost:7101
[2025-04-17 15:16:07.186 INF] Now listening on: http://localhost:5230
[2025-04-17 15:16:07.189 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:16:07.190 INF] Hosting environment: Development
[2025-04-17 15:16:07.190 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:16:07.578 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:16:07.740 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 162.2683ms
[2025-04-17 15:16:08.261 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:16:08.467 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.5761ms
[2025-04-17 15:16:22.130 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 15:16:22.138 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:16:22.160 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:16:22.416 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:16:23.164 INF] Executed DbCommand (35ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 15:16:23.274 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 853.5406ms.
[2025-04-17 15:16:23.282 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 15:16:23.295 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1130.4627ms
[2025-04-17 15:16:23.295 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:16:23.305 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1175.3182ms
[2025-04-17 15:17:59.638 INF] Application is shutting down...
[2025-04-17 15:22:09.590 INF] Now listening on: https://localhost:7101
[2025-04-17 15:22:09.629 INF] Now listening on: http://localhost:5230
[2025-04-17 15:22:09.633 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:22:09.635 INF] Hosting environment: Development
[2025-04-17 15:22:09.635 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:22:09.956 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:22:10.099 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 143.2299ms
[2025-04-17 15:22:10.835 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:22:10.944 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.2152ms
[2025-04-17 15:22:20.687 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 15:22:20.695 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:22:20.718 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:22:20.978 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:22:21.662 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 15:22:21.756 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 772.3163ms.
[2025-04-17 15:22:21.764 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 15:22:21.778 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1056.008ms
[2025-04-17 15:22:21.779 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:22:21.786 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1099.0392ms
[2025-04-17 15:25:45.449 INF] Application is shutting down...
[2025-04-17 15:37:22.639 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:37:22.780 INF] Now listening on: https://localhost:7101
[2025-04-17 15:37:22.781 INF] Now listening on: http://localhost:5230
[2025-04-17 15:37:22.784 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:37:22.784 INF] Hosting environment: Development
[2025-04-17 15:37:22.785 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:37:23.060 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:37:23.332 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 271.9721ms
[2025-04-17 15:37:24.107 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:37:24.317 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.9941ms
[2025-04-17 15:37:41.596 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:37:41.606 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:37:41.675 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:37:41.676 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 79.3106ms
[2025-04-17 15:39:03.945 INF] Application is shutting down...
[2025-04-17 15:39:21.411 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:39:21.534 INF] Now listening on: https://localhost:7101
[2025-04-17 15:39:21.536 INF] Now listening on: http://localhost:5230
[2025-04-17 15:39:21.538 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:39:21.539 INF] Hosting environment: Development
[2025-04-17 15:39:21.540 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:39:21.899 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:39:22.080 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 181.0531ms
[2025-04-17 15:39:22.705 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:39:22.909 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 203.6141ms
[2025-04-17 15:39:32.463 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 15:39:32.492 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:39:32.512 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:39:32.824 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:39:33.617 INF] Executed DbCommand (36ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 15:39:33.716 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 886.8459ms.
[2025-04-17 15:39:33.722 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 15:39:33.736 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1218.958ms
[2025-04-17 15:39:33.737 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:39:33.746 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1283.4256ms
[2025-04-17 15:39:44.090 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:39:44.097 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:39:44.118 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:39:44.119 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 28.7812ms
[2025-04-17 15:39:45.678 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:39:45.686 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:39:45.691 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:39:45.693 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 15.6167ms
[2025-04-17 15:39:46.220 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:39:46.225 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:39:46.227 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:39:46.228 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 8.3784ms
[2025-04-17 15:39:46.391 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:39:46.393 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:39:46.394 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:39:46.396 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 4.5067ms
[2025-04-17 15:39:46.539 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:39:46.541 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:39:46.542 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:39:46.543 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 3.8608ms
[2025-04-17 15:40:02.972 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:40:02.974 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:40:02.975 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:40:02.976 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 4.0181ms
[2025-04-17 15:41:32.808 INF] Application is shutting down...
[2025-04-17 15:42:23.718 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:42:23.840 INF] Now listening on: https://localhost:7101
[2025-04-17 15:42:23.842 INF] Now listening on: http://localhost:5230
[2025-04-17 15:42:23.844 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:42:23.845 INF] Hosting environment: Development
[2025-04-17 15:42:23.847 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:42:24.215 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:42:24.389 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 175.1677ms
[2025-04-17 15:42:25.085 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:42:25.343 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 258.1707ms
[2025-04-17 15:42:37.813 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:42:37.841 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:42:37.882 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:42:37.884 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 71.0155ms
[2025-04-17 15:43:44.930 INF] Application is shutting down...
[2025-04-17 15:45:34.008 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:45:34.138 INF] Now listening on: https://localhost:7101
[2025-04-17 15:45:34.139 INF] Now listening on: http://localhost:5230
[2025-04-17 15:45:34.142 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:45:34.144 INF] Hosting environment: Development
[2025-04-17 15:45:34.144 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:45:34.563 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:45:34.737 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 173.8191ms
[2025-04-17 15:45:35.350 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:45:35.531 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 181.224ms
[2025-04-17 15:45:48.479 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:45:48.522 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:45:48.561 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:45:48.562 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 83.3772ms
[2025-04-17 15:46:13.619 INF] Request starting HTTP/1.1 POST https://localhost:7101/api/Staff - multipart/form-data; boundary=--------------------------757585072611491108331060 2148
[2025-04-17 15:46:13.683 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-04-17 15:46:13.701 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
[2025-04-17 15:46:13.704 INF] Executing endpoint 'WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1)'
[2025-04-17 15:46:13.735 INF] Route matched with {action = "CreateDepartment", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Dto.StaffDto]] CreateDepartment(WebApplication1.Model.StaffModel) on controller WebApplication1.Controller.StaffController (WebApplication1).
[2025-04-17 15:46:14.049 INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2025-04-17 15:46:14.083 INF] Executed action WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1) in 342.414ms
[2025-04-17 15:46:14.084 INF] Executed endpoint 'WebApplication1.Controller.StaffController.CreateDepartment (WebApplication1)'
[2025-04-17 15:46:14.088 INF] Request finished HTTP/1.1 POST https://localhost:7101/api/Staff - 415 null application/problem+json; charset=utf-8 468.7507ms
[2025-04-17 15:46:22.943 INF] Request starting HTTP/1.1 GET https://localhost:7101/api/Staff - multipart/form-data; boundary=--------------------------710961071603456951215988 2148
[2025-04-17 15:46:22.946 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-04-17 15:46:22.948 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
[2025-04-17 15:46:22.950 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:46:22.954 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:46:22.955 INF] Request finished HTTP/1.1 GET https://localhost:7101/api/Staff - 401 null application/json 12.0003ms
[2025-04-17 15:46:22.959 INF] Connection id "0HNBTHGRV82P1", Request id "0HNBTHGRV82P1:00000002": the application completed without reading the entire request body.
[2025-04-17 15:49:39.060 INF] Application is shutting down...
[2025-04-17 15:49:42.874 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:49:43.003 INF] Now listening on: https://localhost:7101
[2025-04-17 15:49:43.005 INF] Now listening on: http://localhost:5230
[2025-04-17 15:49:43.007 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:49:43.008 INF] Hosting environment: Development
[2025-04-17 15:49:43.008 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:49:43.296 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:49:43.460 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 165.2389ms
[2025-04-17 15:49:44.115 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:49:44.306 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.6298ms
[2025-04-17 15:50:06.328 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:50:06.368 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:50:06.372 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:50:06.375 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 46.7363ms
[2025-04-17 15:50:08.716 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:50:08.723 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:50:08.725 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:50:08.726 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 9.9694ms
[2025-04-17 15:50:22.811 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 15:50:22.817 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:50:22.841 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:50:23.110 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:50:23.868 INF] Executed DbCommand (33ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 15:50:23.964 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 849.7266ms.
[2025-04-17 15:50:23.971 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 15:50:23.984 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1138.271ms
[2025-04-17 15:50:23.985 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:50:23.994 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1182.8915ms
[2025-04-17 15:50:33.757 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:50:33.760 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:50:33.761 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:50:33.762 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 4.8327ms
[2025-04-17 15:50:41.871 INF] Request starting HTTP/2 GET https://localhost:7101/DALStaff/sql - null null
[2025-04-17 15:50:41.873 INF] Executing endpoint 'WebApplication1.Controller.DALStaffController.GetAllFromSql (WebApplication1)'
[2025-04-17 15:50:41.880 INF] Route matched with {action = "GetAllFromSql", controller = "DALStaff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebApplication1.Entity.StaffEntity]]] GetAllFromSql() on controller WebApplication1.Controller.DALStaffController (WebApplication1).
[2025-04-17 15:50:41.887 INF] Executing action method WebApplication1.Controller.DALStaffController.GetAllFromSql (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:50:41.915 INF] thưc hiện query SELECT
            id_staff AS Id,
            full_name AS FullName,
            position AS Position,
            phone_number AS Phone,
            address AS Address,
            age AS Age,
            salary AS Salary,
            email AS Email,
            date_of_join AS DateOfJoin
            FROM tbl_staff
            WHERE is_deleted = false
[2025-04-17 15:50:42.260 INF] có từng này kết quar 
[2025-04-17 15:50:42.263 INF] Executed action method WebApplication1.Controller.DALStaffController.GetAllFromSql (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 374.223ms.
[2025-04-17 15:50:42.266 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.Staff, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-04-17 15:50:42.295 INF] Executed action WebApplication1.Controller.DALStaffController.GetAllFromSql (WebApplication1) in 410.7125ms
[2025-04-17 15:50:42.296 INF] Executed endpoint 'WebApplication1.Controller.DALStaffController.GetAllFromSql (WebApplication1)'
[2025-04-17 15:50:42.299 INF] Request finished HTTP/2 GET https://localhost:7101/DALStaff/sql - 200 null application/json; charset=utf-8 427.9374ms
[2025-04-17 15:50:45.900 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:50:45.903 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:50:45.904 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:50:45.905 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 4.9006ms
[2025-04-17 15:51:48.458 INF] Application is shutting down...
[2025-04-17 15:52:17.601 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:52:17.737 INF] Now listening on: https://localhost:7101
[2025-04-17 15:52:17.738 INF] Now listening on: http://localhost:5230
[2025-04-17 15:52:17.741 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:52:17.741 INF] Hosting environment: Development
[2025-04-17 15:52:17.742 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:52:18.110 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:52:18.278 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 167.8245ms
[2025-04-17 15:52:19.067 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:52:19.294 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 226.7699ms
[2025-04-17 15:52:28.423 INF] Request starting HTTP/1.1 GET https://localhost:7101/api/Staff - multipart/form-data; boundary=--------------------------094613265038259552772037 2148
[2025-04-17 15:52:28.493 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-04-17 15:52:28.506 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
[2025-04-17 15:52:28.511 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:52:28.556 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:52:28.557 INF] Request finished HTTP/1.1 GET https://localhost:7101/api/Staff - 401 null application/json 133.9476ms
[2025-04-17 15:52:28.560 INF] Connection id "0HNBTHKK7Q0Q2", Request id "0HNBTHKK7Q0Q2:00000001": the application completed without reading the entire request body.
[2025-04-17 15:52:30.988 INF] Request starting HTTP/1.1 GET https://localhost:7101/api/Staff - multipart/form-data; boundary=--------------------------746027954957497115937436 2148
[2025-04-17 15:52:30.992 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-04-17 15:52:30.994 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
[2025-04-17 15:52:30.995 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:52:30.996 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:52:30.997 INF] Request finished HTTP/1.1 GET https://localhost:7101/api/Staff - 401 null application/json 9.5333ms
[2025-04-17 15:52:30.999 INF] Connection id "0HNBTHKK7Q0Q2", Request id "0HNBTHKK7Q0Q2:00000002": the application completed without reading the entire request body.
[2025-04-17 15:52:39.672 INF] Request starting HTTP/1.1 GET https://localhost:7101/api/Staff - multipart/form-data; boundary=--------------------------029117470615727772345437 2148
[2025-04-17 15:52:39.674 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-04-17 15:52:39.676 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
[2025-04-17 15:52:39.678 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:52:39.679 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:52:39.680 INF] Request finished HTTP/1.1 GET https://localhost:7101/api/Staff - 401 null application/json 8.404ms
[2025-04-17 15:52:39.682 INF] Connection id "0HNBTHKK7Q0Q2", Request id "0HNBTHKK7Q0Q2:00000003": the application completed without reading the entire request body.
[2025-04-17 15:52:48.912 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:52:48.914 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:52:48.915 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:52:48.916 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 4.1092ms
[2025-04-17 15:53:56.265 INF] Application is shutting down...
[2025-04-17 15:54:17.485 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:54:17.616 INF] Now listening on: https://localhost:7101
[2025-04-17 15:54:17.617 INF] Now listening on: http://localhost:5230
[2025-04-17 15:54:17.621 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:54:17.622 INF] Hosting environment: Development
[2025-04-17 15:54:17.622 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:54:17.978 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:54:18.117 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 139.3222ms
[2025-04-17 15:54:18.830 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:54:18.943 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.25ms
[2025-04-17 15:54:34.395 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:54:34.421 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:54:34.458 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:54:34.460 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 64.3244ms
[2025-04-17 15:55:23.354 INF] Application is shutting down...
[2025-04-17 15:59:21.821 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 15:59:21.960 INF] Now listening on: https://localhost:7101
[2025-04-17 15:59:21.961 INF] Now listening on: http://localhost:5230
[2025-04-17 15:59:21.964 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 15:59:21.964 INF] Hosting environment: Development
[2025-04-17 15:59:21.965 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 15:59:22.439 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 15:59:22.601 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 163.2833ms
[2025-04-17 15:59:23.176 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 15:59:23.360 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.7614ms
[2025-04-17 15:59:34.585 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 15:59:34.625 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:59:34.643 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 15:59:34.882 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 15:59:35.590 INF] Executed DbCommand (35ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 15:59:35.688 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 800.7811ms.
[2025-04-17 15:59:35.695 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 15:59:35.708 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1060.4419ms
[2025-04-17 15:59:35.709 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 15:59:35.719 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1134.013ms
[2025-04-17 15:59:46.115 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 15:59:46.125 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 15:59:46.142 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 15:59:46.144 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 28.3988ms
[2025-04-17 15:59:53.144 INF] Application is shutting down...
[2025-04-17 16:00:11.612 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:00:11.825 INF] Now listening on: https://localhost:7101
[2025-04-17 16:00:11.827 INF] Now listening on: http://localhost:5230
[2025-04-17 16:00:11.831 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:00:11.833 INF] Hosting environment: Development
[2025-04-17 16:00:11.833 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:00:12.662 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:00:12.865 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 202.8881ms
[2025-04-17 16:00:13.817 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:00:13.948 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.6248ms
[2025-04-17 16:00:22.734 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:01:03.553 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:01:03.599 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:01:03.604 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 40870.5519ms
[2025-04-17 16:04:50.407 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:04:50.603 INF] Now listening on: https://localhost:7101
[2025-04-17 16:04:50.605 INF] Now listening on: http://localhost:5230
[2025-04-17 16:04:50.608 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:04:50.609 INF] Hosting environment: Development
[2025-04-17 16:04:50.610 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:04:51.160 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:04:51.335 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 175.1472ms
[2025-04-17 16:04:52.008 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:04:52.132 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.7297ms
[2025-04-17 16:05:00.818 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 51
[2025-04-17 16:05:00.899 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:05:00.924 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:05:01.332 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:05:02.219 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:05:02.384 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1046.2343ms.
[2025-04-17 16:05:02.394 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:05:02.412 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1483.0705ms
[2025-04-17 16:05:02.414 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:05:02.424 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1606.3839ms
[2025-04-17 16:05:33.437 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:05:33.446 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:05:33.464 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:05:33.466 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 29.0255ms
[2025-04-17 16:16:41.939 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:16:42.074 INF] Now listening on: https://localhost:7101
[2025-04-17 16:16:42.075 INF] Now listening on: http://localhost:5230
[2025-04-17 16:16:42.078 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:16:42.079 INF] Hosting environment: Development
[2025-04-17 16:16:42.080 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:16:42.434 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:16:42.594 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 161.4103ms
[2025-04-17 16:16:42.995 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:16:43.197 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 201.757ms
[2025-04-17 16:17:00.788 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:17:00.819 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:17:00.838 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:17:01.094 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:17:01.801 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:17:01.885 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 785.3601ms.
[2025-04-17 16:17:01.893 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:17:01.906 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1062.855ms
[2025-04-17 16:17:01.907 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:17:01.914 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1125.4371ms
[2025-04-17 16:17:14.377 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:17:14.387 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:17:14.405 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:17:14.406 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 28.7266ms
[2025-04-17 16:21:44.892 INF] Application is shutting down...
[2025-04-17 16:22:14.172 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:22:14.306 INF] Now listening on: https://localhost:7101
[2025-04-17 16:22:14.308 INF] Now listening on: http://localhost:5230
[2025-04-17 16:22:14.310 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:22:14.311 INF] Hosting environment: Development
[2025-04-17 16:22:14.312 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:22:14.702 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:22:14.858 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 156.8263ms
[2025-04-17 16:22:15.366 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:22:15.589 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.2769ms
[2025-04-17 16:22:24.027 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:22:24.055 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:22:24.088 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:22:24.356 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:22:25.052 INF] Executed DbCommand (36ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:22:25.137 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 775.3768ms.
[2025-04-17 16:22:25.147 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:22:25.164 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1069.3839ms
[2025-04-17 16:22:25.165 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:22:25.175 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1147.471ms
[2025-04-17 16:22:30.224 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:22:30.239 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:22:30.249 WRN] Authentication failed: null
[2025-04-17 16:22:30.265 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:22:30.268 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 null application/json 43.4464ms
[2025-04-17 16:25:38.003 INF] Application is shutting down...
[2025-04-17 16:29:16.616 INF] Now listening on: https://localhost:7101
[2025-04-17 16:29:16.651 INF] Now listening on: http://localhost:5230
[2025-04-17 16:29:16.654 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:29:16.655 INF] Hosting environment: Development
[2025-04-17 16:29:16.655 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:29:17.101 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:29:17.257 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 156.9613ms
[2025-04-17 16:29:17.809 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:29:18.009 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 200.3969ms
[2025-04-17 16:29:21.012 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:29:21.023 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:29:21.043 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:29:21.305 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:29:21.999 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:29:22.096 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 786.4717ms.
[2025-04-17 16:29:22.103 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:29:22.116 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1068.8226ms
[2025-04-17 16:29:22.117 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:29:22.127 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1114.6889ms
[2025-04-17 16:29:30.196 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:29:30.206 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:29:30.210 ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at WebApplication1.Configs.AuthorizationMiddleware.InvokeAsync(HttpContext context) in D:\NET\WebApplication1\WebApplication1\Configs\AuthorizationMiddleware.cs:line 20
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 16:29:30.232 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 500 null text/plain; charset=utf-8 36.044ms
[2025-04-17 16:30:41.795 INF] Application is shutting down...
[2025-04-17 16:31:17.598 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:31:17.732 INF] Now listening on: https://localhost:7101
[2025-04-17 16:31:17.733 INF] Now listening on: http://localhost:5230
[2025-04-17 16:31:17.736 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:31:17.737 INF] Hosting environment: Development
[2025-04-17 16:31:17.738 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:31:18.124 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:31:18.287 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 163.0687ms
[2025-04-17 16:31:18.827 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:31:18.991 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.3725ms
[2025-04-17 16:31:27.619 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:27.663 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:27.668 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:27.669 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 49.5353ms
[2025-04-17 16:31:32.223 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:32.228 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:32.230 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:32.231 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 7.8948ms
[2025-04-17 16:31:32.781 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:32.786 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:32.788 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:32.789 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 7.7226ms
[2025-04-17 16:31:32.936 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:32.940 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:32.941 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:32.943 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 6.8228ms
[2025-04-17 16:31:33.080 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:33.082 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:33.082 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:33.084 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 3.3542ms
[2025-04-17 16:31:33.220 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:33.223 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:33.224 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:33.225 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 5.6505ms
[2025-04-17 16:31:33.397 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:33.399 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:33.400 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:33.401 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 3.6191ms
[2025-04-17 16:31:33.588 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:31:33.590 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:31:33.591 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:31:33.592 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 4.1048ms
[2025-04-17 16:31:58.957 INF] Application is shutting down...
[2025-04-17 16:32:02.595 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:32:02.736 INF] Now listening on: https://localhost:7101
[2025-04-17 16:32:02.738 INF] Now listening on: http://localhost:5230
[2025-04-17 16:32:02.740 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:32:02.741 INF] Hosting environment: Development
[2025-04-17 16:32:02.741 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:32:03.168 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:32:03.348 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 181.0571ms
[2025-04-17 16:32:04.495 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:32:04.596 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.4467ms
[2025-04-17 16:33:06.291 INF] Application is shutting down...
[2025-04-17 16:34:02.517 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:34:02.654 INF] Now listening on: https://localhost:7101
[2025-04-17 16:34:02.657 INF] Now listening on: http://localhost:5230
[2025-04-17 16:34:02.659 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:34:02.660 INF] Hosting environment: Development
[2025-04-17 16:34:02.661 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:34:03.012 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:34:03.177 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 165.9783ms
[2025-04-17 16:34:03.888 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:34:04.069 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.252ms
[2025-04-17 16:34:11.584 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:34:11.613 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:34:11.634 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:34:11.885 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:34:12.618 INF] Executed DbCommand (32ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:34:12.707 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 818.0389ms.
[2025-04-17 16:34:12.715 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:34:12.729 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1089.5369ms
[2025-04-17 16:34:12.730 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:34:12.739 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1154.9733ms
[2025-04-17 16:34:25.763 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:34:25.772 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:34:25.776 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:34:25.777 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 14.3548ms
[2025-04-17 16:35:34.379 INF] Application is shutting down...
[2025-04-17 16:36:06.172 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:36:06.290 INF] Now listening on: https://localhost:7101
[2025-04-17 16:36:06.291 INF] Now listening on: http://localhost:5230
[2025-04-17 16:36:06.294 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:36:06.295 INF] Hosting environment: Development
[2025-04-17 16:36:06.295 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:36:06.705 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:36:06.866 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 161.8651ms
[2025-04-17 16:36:07.930 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:36:08.023 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.168ms
[2025-04-17 16:36:26.164 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:36:26.182 ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__0(JwtBearerOptions options) in D:\NET\WebApplication1\WebApplication1\Program.cs:line 38
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AuthorizationMiddleware.InvokeAsync(HttpContext context) in D:\NET\WebApplication1\WebApplication1\Configs\AuthorizationMiddleware.cs:line 18
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 16:36:26.204 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 500 null text/plain; charset=utf-8 40.0115ms
[2025-04-17 16:36:35.051 INF] Request starting HTTP/2 GET https://localhost:7101/api/Department - null null
[2025-04-17 16:36:35.059 ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__0(JwtBearerOptions options) in D:\NET\WebApplication1\WebApplication1\Program.cs:line 38
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AuthorizationMiddleware.InvokeAsync(HttpContext context) in D:\NET\WebApplication1\WebApplication1\Configs\AuthorizationMiddleware.cs:line 18
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 16:36:35.066 INF] Request finished HTTP/2 GET https://localhost:7101/api/Department - 500 null text/plain; charset=utf-8 15.5119ms
[2025-04-17 16:36:43.022 INF] Request starting HTTP/2 GET https://localhost:7101/DALStaff/sql - null null
[2025-04-17 16:36:43.027 ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__0(JwtBearerOptions options) in D:\NET\WebApplication1\WebApplication1\Program.cs:line 38
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AuthorizationMiddleware.InvokeAsync(HttpContext context) in D:\NET\WebApplication1\WebApplication1\Configs\AuthorizationMiddleware.cs:line 18
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 16:36:43.030 INF] Request finished HTTP/2 GET https://localhost:7101/DALStaff/sql - 500 null text/plain; charset=utf-8 8.2621ms
[2025-04-17 16:37:32.491 INF] Application is shutting down...
[2025-04-17 16:37:36.653 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:37:36.774 INF] Now listening on: https://localhost:7101
[2025-04-17 16:37:36.775 INF] Now listening on: http://localhost:5230
[2025-04-17 16:37:36.778 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:37:36.779 INF] Hosting environment: Development
[2025-04-17 16:37:36.779 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:37:36.980 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:37:37.154 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 178.1107ms
[2025-04-17 16:37:37.835 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:37:37.936 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.3683ms
[2025-04-17 16:37:41.505 INF] Request starting HTTP/2 GET https://localhost:7101/DALDepartment - null null
[2025-04-17 16:37:41.534 INF] Executing endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 16:37:41.554 INF] Route matched with {action = "GetALLDepartment", controller = "DALDepartment"}. Executing controller action with signature DefaultRes`1[System.Collections.Generic.List`1[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto]] GetALLDepartment() on controller DALDepartmentController (WebApplication1).
[2025-04-17 16:37:41.565 INF] Executing action method DALDepartmentController.GetALLDepartment (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:37:41.571 INF] Thực hiện query: SELECT
                id_department as Id,
                name_department as nameDepartment ,
                status as status,
                code as code ,
                description as description
                FROM demo_ef.tbl_department
                where is_deleted = false
                ;
[2025-04-17 16:37:41.862 INF] Executed action method DALDepartmentController.GetALLDepartment (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 293.0646ms.
[2025-04-17 16:37:41.870 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.Collections.Generic.List`1[[ClassLibrary1.DAL.DTOS.DepartmentDto.DepartmentDALDto, ClassLibrary1.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:37:41.916 INF] Executed action DALDepartmentController.GetALLDepartment (WebApplication1) in 357.9671ms
[2025-04-17 16:37:41.917 INF] Executed endpoint 'DALDepartmentController.GetALLDepartment (WebApplication1)'
[2025-04-17 16:37:41.919 INF] Request finished HTTP/2 GET https://localhost:7101/DALDepartment - 200 null application/json; charset=utf-8 413.374ms
[2025-04-17 16:37:47.476 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:37:47.479 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:37:47.488 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:37:47.697 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:37:48.401 INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:37:48.492 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 794.4146ms.
[2025-04-17 16:37:48.494 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:37:48.496 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1006.414ms
[2025-04-17 16:37:48.497 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:37:48.508 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1031.8403ms
[2025-04-17 16:38:01.228 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:38:01.238 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:38:01.243 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:38:01.243 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 15.8904ms
[2025-04-17 16:39:30.771 INF] Application is shutting down...
[2025-04-17 16:39:53.727 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:39:53.901 INF] Now listening on: https://localhost:7101
[2025-04-17 16:39:53.902 INF] Now listening on: http://localhost:5230
[2025-04-17 16:39:53.905 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:39:53.906 INF] Hosting environment: Development
[2025-04-17 16:39:53.906 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:39:54.311 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:39:54.464 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 153.0814ms
[2025-04-17 16:39:54.826 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:39:55.031 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 204.7892ms
[2025-04-17 16:40:00.310 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:40:00.316 WRN] User is not authenticated
[2025-04-17 16:40:00.317 INF] Authorization header: 
[2025-04-17 16:40:00.337 WRN] User is not authenticated
[2025-04-17 16:40:00.338 INF] Authorization header: 
[2025-04-17 16:40:00.340 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:40:00.358 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:40:00.613 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:40:01.345 INF] Executed DbCommand (35ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:40:01.433 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 816.5916ms.
[2025-04-17 16:40:01.442 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:40:01.458 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1094.8001ms
[2025-04-17 16:40:01.459 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:40:01.467 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1157.5475ms
[2025-04-17 16:40:17.624 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:40:17.627 WRN] User is not authenticated
[2025-04-17 16:40:17.627 INF] Authorization header: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdHJpbmciLCJqdGkiOiI5NTJiZWQ3Yi05ZWIwLTRmOTMtYTE0MC05MWE4NjE1NThjM2UiLCJpYXQiOjE3NDQ4ODI4MDEsInJvbGUiOiJBRE1JTiIsIlVzZXJJZCI6IjEiLCJleHAiOjE3NDQ4ODY0MDF9.rMz8JVSa3XkFco4xC9x0Lyv6mtEcWeqj-0ql1zASEH4
[2025-04-17 16:40:17.633 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:40:17.639 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:40:17.640 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 15.8389ms
[2025-04-17 16:40:56.535 INF] Application is shutting down...
[2025-04-17 16:41:31.547 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:41:31.682 INF] Now listening on: https://localhost:7101
[2025-04-17 16:41:31.683 INF] Now listening on: http://localhost:5230
[2025-04-17 16:41:31.686 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:41:31.687 INF] Hosting environment: Development
[2025-04-17 16:41:31.688 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:41:32.064 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:41:32.221 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 156.6338ms
[2025-04-17 16:41:32.681 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:41:32.842 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.8033ms
[2025-04-17 16:41:37.052 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:41:37.058 INF] Roles: 
[2025-04-17 16:41:37.058 WRN] User is not authenticated
[2025-04-17 16:41:37.059 INF] Authorization header: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdHJpbmciLCJqdGkiOiI5NTJiZWQ3Yi05ZWIwLTRmOTMtYTE0MC05MWE4NjE1NThjM2UiLCJpYXQiOjE3NDQ4ODI4MDEsInJvbGUiOiJBRE1JTiIsIlVzZXJJZCI6IjEiLCJleHAiOjE3NDQ4ODY0MDF9.rMz8JVSa3XkFco4xC9x0Lyv6mtEcWeqj-0ql1zASEH4
[2025-04-17 16:41:37.085 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:41:37.089 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:41:37.090 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 38.1295ms
[2025-04-17 16:42:33.141 INF] Application is shutting down...
[2025-04-17 16:42:37.866 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:42:38.066 INF] Now listening on: https://localhost:7101
[2025-04-17 16:42:38.068 INF] Now listening on: http://localhost:5230
[2025-04-17 16:42:38.072 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:42:38.073 INF] Hosting environment: Development
[2025-04-17 16:42:38.073 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:42:38.377 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:42:38.584 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 209.8484ms
[2025-04-17 16:42:39.557 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:42:39.690 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.0822ms
[2025-04-17 16:42:41.452 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:43:41.004 INF] Roles: 
[2025-04-17 16:43:41.005 WRN] User is not authenticated
[2025-04-17 16:43:41.006 INF] Authorization header: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdHJpbmciLCJqdGkiOiI5NTJiZWQ3Yi05ZWIwLTRmOTMtYTE0MC05MWE4NjE1NThjM2UiLCJpYXQiOjE3NDQ4ODI4MDEsInJvbGUiOiJBRE1JTiIsIlVzZXJJZCI6IjEiLCJleHAiOjE3NDQ4ODY0MDF9.rMz8JVSa3XkFco4xC9x0Lyv6mtEcWeqj-0ql1zASEH4
[2025-04-17 16:43:41.081 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:43:41.086 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:43:41.087 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 59635.5197ms
[2025-04-17 16:43:54.713 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:43:54.914 INF] Now listening on: https://localhost:7101
[2025-04-17 16:43:54.916 INF] Now listening on: http://localhost:5230
[2025-04-17 16:43:54.920 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:43:54.921 INF] Hosting environment: Development
[2025-04-17 16:43:54.922 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:43:55.324 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:43:55.541 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 220.7238ms
[2025-04-17 16:43:56.601 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:43:56.766 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.4303ms
[2025-04-17 16:43:58.096 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:43:58.116 INF] User is authenticated
[2025-04-17 16:43:58.120 INF] Roles: 
[2025-04-17 16:43:58.183 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:43:58.188 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:43:58.189 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 92.4152ms
[2025-04-17 16:44:01.498 INF] Request starting HTTP/2 GET https://localhost:7101/api/Staff - null null
[2025-04-17 16:44:01.501 INF] User is authenticated
[2025-04-17 16:44:01.502 INF] Roles: 
[2025-04-17 16:44:01.506 INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
[2025-04-17 16:44:01.507 INF] AuthenticationScheme: Bearer was challenged.
[2025-04-17 16:44:01.508 INF] Request finished HTTP/2 GET https://localhost:7101/api/Staff - 401 0 null 9.3052ms
[2025-04-17 16:49:30.334 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:49:30.472 INF] Now listening on: https://localhost:7101
[2025-04-17 16:49:30.474 INF] Now listening on: http://localhost:5230
[2025-04-17 16:49:30.476 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:49:30.477 INF] Hosting environment: Development
[2025-04-17 16:49:30.478 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:49:30.855 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:49:31.020 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 164.2076ms
[2025-04-17 16:49:31.386 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:49:31.543 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.3305ms
[2025-04-17 16:49:36.183 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:49:36.195 INF] Roles: 
[2025-04-17 16:49:36.197 WRN] User is not authenticated
[2025-04-17 16:49:36.198 INF] Authorization header: 
[2025-04-17 16:49:36.216 ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__0(JwtBearerOptions options) in D:\NET\WebApplication1\WebApplication1\Program.cs:line 37
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AuthorizationMiddleware.InvokeAsync(HttpContext context) in D:\NET\WebApplication1\WebApplication1\Configs\AuthorizationMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-17 16:49:36.231 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 500 null text/plain; charset=utf-8 47.8123ms
[2025-04-17 16:49:58.180 INF] Application is shutting down...
[2025-04-17 16:50:01.821 INF] User profile is available. Using 'C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-04-17 16:50:01.969 INF] Now listening on: https://localhost:7101
[2025-04-17 16:50:01.970 INF] Now listening on: http://localhost:5230
[2025-04-17 16:50:01.973 INF] Application started. Press Ctrl+C to shut down.
[2025-04-17 16:50:01.974 INF] Hosting environment: Development
[2025-04-17 16:50:01.975 INF] Content root path: D:\NET\WebApplication1\WebApplication1
[2025-04-17 16:50:02.370 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - null null
[2025-04-17 16:50:02.506 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - 200 null text/html;charset=utf-8 136.671ms
[2025-04-17 16:50:03.214 INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - null null
[2025-04-17 16:50:03.314 INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.2665ms
[2025-04-17 16:50:05.777 INF] Request starting HTTP/2 POST https://localhost:7101/api/Auth/login - application/json 50
[2025-04-17 16:50:05.790 INF] Roles: 
[2025-04-17 16:50:05.792 WRN] User is not authenticated
[2025-04-17 16:50:05.793 INF] Authorization header: 
[2025-04-17 16:50:05.820 INF] Roles: 
[2025-04-17 16:50:05.821 WRN] User is not authenticated
[2025-04-17 16:50:05.822 INF] Authorization header: 
[2025-04-17 16:50:05.824 INF] Executing endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:50:05.842 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature DefaultRes`1[System.String] Login(WebApplication1.Dto.LoginRequest) on controller WebApplication1.Controller.AuthController (WebApplication1).
[2025-04-17 16:50:06.104 INF] Executing action method WebApplication1.Controller.AuthController.Login (WebApplication1) - Validation state: "Valid"
[2025-04-17 16:50:06.796 INF] Executed DbCommand (33ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`password`, `u`.`username`
FROM `Users` AS `u`
WHERE (`u`.`username` = @__userName_0) AND (`u`.`password` = @__password_1)
LIMIT 1
[2025-04-17 16:50:06.892 INF] Executed action method WebApplication1.Controller.AuthController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 783.5332ms.
[2025-04-17 16:50:06.899 INF] Executing ObjectResult, writing value of type 'DefaultRes`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-04-17 16:50:06.914 INF] Executed action WebApplication1.Controller.AuthController.Login (WebApplication1) in 1067.4493ms
[2025-04-17 16:50:06.915 INF] Executed endpoint 'WebApplication1.Controller.AuthController.Login (WebApplication1)'
[2025-04-17 16:50:06.924 INF] Request finished HTTP/2 POST https://localhost:7101/api/Auth/login - 200 null application/json; charset=utf-8 1147.2851ms
[2025-04-17 16:52:46.234 INF] Application is shutting down...
